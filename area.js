var genders = [
    {
        'values': [[1041408000, 2.0], [852105600, 3.0], [568022400, 1.0], [599644800, 0.0], [504950400, 2.0], [536486400, 0.0], [441792000, 1.0], [473414400, 0.0], [-63129600, 1.0], [-31507200, 0.0], [315561600, 1.0], [347184000, 1.0], [-189360000, 0.0], [-157737600, 2.0], [-126201600, 2.0], [-94665600, 0.0], [-315590400, 1.0], [-283968000, 2.0], [-252432000, 4.0], [-220896000, 0.0], [820483200, 2.0], [1388563200, 5.0], [1483257600, 2.0], [1451635200, 4.0], [1293868800, 6.0], [1262332800, 9.0], [1357027200, 5.0], [1325404800, 4.0], [1420099200, 5.0], [1104566400, 5.0], [-473356800, 0.0], [-504892800, 0.0], [-410198400, 3.0], [-441820800, 1.0], [-599587200, 0.0], [-631123200, 2.0], [-536428800, 2.0], [-568051200, 0.0], [378720000, 1.0], [-347126400, 2.0], [-378662400, 3.0], [410256000, 0.0], [662716800, 3.0], [631180800, 3.0], [725875200, 2.0], [694252800, 2.0], [788947200, 2.0], [757411200, 4.0], [284025600, 0.0], [252489600, 0.0], [220953600, 2.0], [189331200, 1.0], [157795200, 0.0], [126259200, 0.0], [94723200, 0.0], [63100800, 0.0], [31564800, 0.0], [28800, 0.0], [1009872000, 2.0], [915177600, 2.0], [946713600, 2.0], [978336000, 2.0], [1136102400, 2.0], [1167638400, 1.0], [1072944000, 1.0], [883641600, 2.0], [1199174400, 2.0], [1230796800, 3.0]], 
        'key': 'Mixed-gender team'
    }, 
    {
        'values': [[1041408000, 63.0], [852105600, 43.0], [568022400, 17.0], [599644800, 24.0], [504950400, 21.0], [536486400, 21.0], [441792000, 26.0], [473414400, 20.0], [-63129600, 6.0], [-31507200, 16.0], [315561600, 20.0], [347184000, 16.0], [-189360000, 7.0], [-157737600, 8.0], [-126201600, 12.0], [-94665600, 8.0], [-315590400, 18.0], [-283968000, 21.0], [-252432000, 15.0], [-220896000, 11.0], [820483200, 37.0], [1388563200, 91.0], [1483257600, 17.0], [1451635200, 84.0], [1293868800, 87.0], [1262332800, 91.0], [1357027200, 99.0], [1325404800, 95.0], [1420099200, 83.0], [1104566400, 69.0], [-473356800, 25.0], [-504892800, 21.0], [-410198400, 22.0], [-441820800, 22.0], [-599587200, 29.0], [-631123200, 22.0], [-536428800, 16.0], [-568051200, 27.0], [378720000, 15.0], [-347126400, 18.0], [-378662400, 20.0], [410256000, 21.0], [662716800, 36.0], [631180800, 25.0], [725875200, 31.0], [694252800, 38.0], [788947200, 31.0], [757411200, 34.0], [284025600, 14.0], [252489600, 13.0], [220953600, 15.0], [189331200, 11.0], [157795200, 5.0], [126259200, 9.0], [94723200, 13.0], [63100800, 9.0], [31564800, 12.0], [28800, 14.0], [1009872000, 62.0], [915177600, 49.0], [946713600, 56.0], [978336000, 70.0], [1136102400, 81.0], [1167638400, 80.0], [1072944000, 72.0], [883641600, 44.0], [1199174400, 86.0], [1230796800, 94.0]], 
        'key': 'Female'
    }, 
    {
        'values': [[1041408000, 84.0], [852105600, 67.0], [568022400, 55.0], [599644800, 62.0], [504950400, 56.0], [536486400, 62.0], [441792000, 50.0], [473414400, 58.0], [-63129600, 27.0], [-31507200, 27.0], [315561600, 43.0], [347184000, 47.0], [-189360000, 30.0], [-157737600, 25.0], [-126201600, 20.0], [-94665600, 30.0], [-315590400, 56.0], [-283968000, 48.0], [-252432000, 49.0], [-220896000, 23.0], [820483200, 64.0], [1388563200, 113.0], [1483257600, 28.0], [1451635200, 90.0], [1293868800, 105.0], [1262332800, 108.0], [1357027200, 107.0], [1325404800, 105.0], [1420099200, 103.0], [1104566400, 80.0], [-473356800, 55.0], [-504892800, 53.0], [-410198400, 56.0], [-441820800, 55.0], [-599587200, 67.0], [-631123200, 56.0], [-536428800, 57.0], [-568051200, 59.0], [378720000, 52.0], [-347126400, 56.0], [-378662400, 54.0], [410256000, 41.0], [662716800, 55.0], [631180800, 64.0], [725875200, 63.0], [694252800, 52.0], [788947200, 60.0], [757411200, 58.0], [284025600, 46.0], [252489600, 31.0], [220953600, 34.0], [189331200, 31.0], [157795200, 31.0], [126259200, 34.0], [94723200, 27.0], [63100800, 30.0], [31564800, 34.0], [28800, 23.0], [1009872000, 78.0], [915177600, 61.0], [946713600, 68.0], [978336000, 71.0], [1136102400, 91.0], [1167638400, 100.0], [1072944000, 74.0], [883641600, 59.0], [1199174400, 99.0], [1230796800, 109.0]], 
        'key': 'Male'
    },
    {
        'values': [[1041408000, 0.0], [852105600, 0.0], [568022400, 0.0], [599644800, 0.0], [504950400, 0.0], [536486400, 0.0], [441792000, 0.0], [473414400, 0.0], [-63129600, 0.0], [-31507200, 0.0], [315561600, 0.0], [347184000, 0.0], [-189360000, 0.0], [-157737600, 0.0], [-126201600, 0.0], [-94665600, 0.0], [-315590400, 0.0], [-283968000, 0.0], [-252432000, 0.0], [-220896000, 0.0], [820483200, 0.0], [1388563200, 0.0], [1483257600, 0.0], [1451635200, 0.0], [1293868800, 0.0], [1262332800, 0.0], [1357027200, 0.0], [1325404800, 0.0], [1420099200, 0.0], [1104566400, 0.0], [-473356800, 0.0], [-504892800, 0.0], [-410198400, 0.0], [-441820800, 0.0], [-599587200, 0.0], [-631123200, 0.0], [-536428800, 0.0], [-568051200, 0.0], [378720000, 0.0], [-347126400, 0.0], [-378662400, 0.0], [410256000, 0.0], [662716800, 0.0], [631180800, 0.0], [725875200, 0.0], [694252800, 0.0], [788947200, 1.0], [757411200, 0.0], [284025600, 0.0], [252489600, 0.0], [220953600, 0.0], [189331200, 0.0], [157795200, 0.0], [126259200, 0.0], [94723200, 0.0], [63100800, 0.0], [31564800, 0.0], [28800, 0.0], [1009872000, 0.0], [915177600, 0.0], [946713600, 0.0], [978336000, 0.0], [1136102400, 0.0], [1167638400, 0.0], [1072944000, 0.0], [883641600, 0.0], [1199174400, 0.0], [1230796800, 0.0]], 
        'key': 'No'
    }, 
    {
        'values': [[1041408000, 0.0], [852105600, 0.0], [568022400, 0.0], [599644800, 0.0], [504950400, 0.0], [536486400, 0.0], [441792000, 0.0], [473414400, 0.0], [-63129600, 0.0], [-31507200, 0.0], [315561600, 0.0], [347184000, 0.0], [-189360000, 0.0], [-157737600, 0.0], [-126201600, 0.0], [-94665600, 0.0], [-315590400, 0.0], [-283968000, 0.0], [-252432000, 0.0], [-220896000, 0.0], [820483200, 0.0], [1388563200, 0.0], [1483257600, 0.0], [1451635200, 0.0], [1293868800, 0.0], [1262332800, 0.0], [1357027200, 0.0], [1325404800, 0.0], [1420099200, 0.0], [1104566400, 0.0], [-473356800, 0.0], [-504892800, 0.0], [-410198400, 0.0], [-441820800, 1.0], [-599587200, 0.0], [-631123200, 0.0], [-536428800, 0.0], [-568051200, 0.0], [378720000, 0.0], [-347126400, 0.0], [-378662400, 0.0], [410256000, 0.0], [662716800, 0.0], [631180800, 0.0], [725875200, 0.0], [694252800, 0.0], [788947200, 1.0], [757411200, 0.0], [284025600, 0.0], [252489600, 0.0], [220953600, 0.0], [189331200, 0.0], [157795200, 0.0], [126259200, 0.0], [94723200, 0.0], [63100800, 0.0], [31564800, 0.0], [28800, 0.0], [1009872000, 0.0], [915177600, 0.0], [946713600, 0.0], [978336000, 0.0], [1136102400, 0.0], [1167638400, 0.0], [1072944000, 0.0], [883641600, 0.0], [1199174400, 2.0], [1230796800, 0.0]], 
        'key': 'NA',
        'disabled':true
    }, 
    {
        'values': [[1041408000, 0.0], [852105600, 0.0], [568022400, 0.0], [599644800, 0.0], [504950400, 0.0], [536486400, 0.0], [441792000, 0.0], [473414400, 0.0], [-63129600, 0.0], [-31507200, 0.0], [315561600, 0.0], [347184000, 0.0], [-189360000, 0.0], [-157737600, 0.0], [-126201600, 0.0], [-94665600, 0.0], [-315590400, 0.0], [-283968000, 0.0], [-252432000, 0.0], [-220896000, 0.0], [820483200, 0.0], [1388563200, 2.0], [1483257600, 1.0], [1451635200, 0.0], [1293868800, 5.0], [1262332800, 0.0], [1357027200, 4.0], [1325404800, 5.0], [1420099200, 0.0], [1104566400, 1.0], [-473356800, 0.0], [-504892800, 0.0], [-410198400, 3.0], [-441820800, 0.0], [-599587200, 0.0], [-631123200, 0.0], [-536428800, 0.0], [-568051200, 1.0], [378720000, 0.0], [-347126400, 1.0], [-378662400, 2.0], [410256000, 0.0], [662716800, 0.0], [631180800, 0.0], [725875200, 0.0], [694252800, 0.0], [788947200, 0.0], [757411200, 1.0], [284025600, 0.0], [252489600, 1.0], [220953600, 0.0], [189331200, 0.0], [157795200, 0.0], [126259200, 0.0], [94723200, 0.0], [63100800, 0.0], [31564800, 0.0], [28800, 0.0], [1009872000, 0.0], [915177600, 0.0], [946713600, 1.0], [978336000, 0.0], [1136102400, 1.0], [1167638400, 0.0], [1072944000, 0.0], [883641600, 0.0], [1199174400, 0.0], [1230796800, 0.0]], 
        'key': 'needs label'
    }
];


var genres = [
    {
        'values': [[1041408000, 12.0], [852105600, 13.0], [568022400, 4.0], [599644800, 12.0], [504950400, 7.0], [536486400, 5.0], [441792000, 8.0], [473414400, 7.0], [-63129600, 1.0], [-31507200, 4.0], [315561600, 7.0], [347184000, 6.0], [-189360000, 1.0], [-157737600, 1.0], [-126201600, 2.0], [-94665600, 2.0], [-315590400, 5.0], [-283968000, 1.0], [-252432000, 2.0], [-220896000, 3.0], [820483200, 12.0], [1388563200, 15.0], [1483257600, 2.0], [1451635200, 13.0], [1293868800, 23.0], [1262332800, 10.0], [1357027200, 17.0], [1325404800, 12.0], [1420099200, 12.0], [1104566400, 7.0], [-473356800, 1.0], [-504892800, 2.0], [-410198400, 0.0], [-441820800, 0.0], [-599587200, 2.0], [-631123200, 0.0], [-536428800, 1.0], [-568051200, 2.0], [378720000, 5.0], [-347126400, 2.0], [-378662400, 1.0], [410256000, 4.0], [662716800, 11.0], [631180800, 11.0], [725875200, 14.0], [694252800, 16.0], [788947200, 9.0], [757411200, 16.0], [284025600, 7.0], [252489600, 4.0], [220953600, 5.0], [189331200, 6.0], [157795200, 6.0], [126259200, 4.0], [94723200, 2.0], [63100800, 5.0], [31564800, 5.0], [28800, 3.0], [1009872000, 14.0], [915177600, 17.0], [946713600, 21.0], [978336000, 15.0], [1136102400, 16.0], [1167638400, 14.0], [1072944000, 10.0], [883641600, 14.0], [1199174400, 18.0], [1230796800, 18.0]], 
        'key': 'mystery'
    }, 
    {
        'values': [[1041408000, 6.0], [852105600, 5.0], [568022400, 7.0], [599644800, 7.0], [504950400, 12.0], [536486400, 11.0], [441792000, 7.0], [473414400, 8.0], [-63129600, 1.0], [-31507200, 1.0], [315561600, 4.0], [347184000, 5.0], [-189360000, 0.0], [-157737600, 0.0], [-126201600, 1.0], [-94665600, 0.0], [-315590400, 0.0], [-283968000, 0.0], [-252432000, 1.0], [-220896000, 0.0], [820483200, 8.0], [1388563200, 8.0], [1483257600, 0.0], [1451635200, 3.0], [1293868800, 6.0], [1262332800, 6.0], [1357027200, 4.0], [1325404800, 3.0], [1420099200, 2.0], [1104566400, 13.0], [-473356800, 1.0], [-504892800, 0.0], [-410198400, 2.0], [-441820800, 0.0], [-599587200, 0.0], [-631123200, 0.0], [-536428800, 1.0], [-568051200, 1.0], [378720000, 7.0], [-347126400, 0.0], [-378662400, 1.0], [410256000, 12.0], [662716800, 11.0], [631180800, 6.0], [725875200, 10.0], [694252800, 9.0], [788947200, 4.0], [757411200, 8.0], [284025600, 1.0], [252489600, 1.0], [220953600, 3.0], [189331200, 1.0], [157795200, 0.0], [126259200, 0.0], [94723200, 1.0], [63100800, 1.0], [31564800, 0.0], [28800, 1.0], [1009872000, 4.0], [915177600, 8.0], [946713600, 9.0], [978336000, 8.0], [1136102400, 3.0], [1167638400, 6.0], [1072944000, 7.0], [883641600, 3.0], [1199174400, 9.0], [1230796800, 4.0]], 
        'key': 'fsf'
    }, 
    {
        'values': [[1041408000, 3.0], [852105600, 4.0], [568022400, 5.0], [599644800, 4.0], [504950400, 4.0], [536486400, 7.0], [441792000, 3.0], [473414400, 4.0], [-63129600, 1.0], [-31507200, 0.0], [315561600, 2.0], [347184000, 2.0], [-189360000, 0.0], [-157737600, 0.0], [-126201600, 0.0], [-94665600, 1.0], [-315590400, 0.0], [-283968000, 0.0], [-252432000, 1.0], [-220896000, 0.0], [820483200, 3.0], [1388563200, 5.0], [1483257600, 1.0], [1451635200, 4.0], [1293868800, 7.0], [1262332800, 7.0], [1357027200, 7.0], [1325404800, 10.0], [1420099200, 4.0], [1104566400, 5.0], [-473356800, 0.0], [-504892800, 0.0], [-410198400, 0.0], [-441820800, 0.0], [-599587200, 0.0], [-631123200, 0.0], [-536428800, 0.0], [-568051200, 1.0], [378720000, 3.0], [-347126400, 0.0], [-378662400, 0.0], [410256000, 6.0], [662716800, 7.0], [631180800, 8.0], [725875200, 7.0], [694252800, 5.0], [788947200, 4.0], [757411200, 6.0], [284025600, 2.0], [252489600, 0.0], [220953600, 1.0], [189331200, 1.0], [157795200, 0.0], [126259200, 0.0], [94723200, 1.0], [63100800, 1.0], [31564800, 2.0], [28800, 1.0], [1009872000, 4.0], [915177600, 2.0], [946713600, 1.0], [978336000, 3.0], [1136102400, 7.0], [1167638400, 6.0], [1072944000, 4.0], [883641600, 3.0], [1199174400, 8.0], [1230796800, 8.0]], 
        'key': 'horror'
    }, 
    {
        'values': [[1041408000, 8.0], [852105600, 2.0], [568022400, 1.0], [599644800, 2.0], [504950400, 3.0], [536486400, 3.0], [441792000, 5.0], [473414400, 2.0], [-63129600, 0.0], [-31507200, 1.0], [315561600, 1.0], [347184000, 1.0], [-189360000, 1.0], [-157737600, 1.0], [-126201600, 1.0], [-94665600, 3.0], [-315590400, 1.0], [-283968000, 2.0], [-252432000, 0.0], [-220896000, 0.0], [820483200, 7.0], [1388563200, 12.0], [1483257600, 0.0], [1451635200, 3.0], [1293868800, 8.0], [1262332800, 7.0], [1357027200, 3.0], [1325404800, 5.0], [1420099200, 2.0], [1104566400, 11.0], [-473356800, 2.0], [-504892800, 4.0], [-410198400, 3.0], [-441820800, 1.0], [-599587200, 0.0], [-631123200, 0.0], [-536428800, 3.0], [-568051200, 2.0], [378720000, 4.0], [-347126400, 0.0], [-378662400, 3.0], [410256000, 3.0], [662716800, 4.0], [631180800, 2.0], [725875200, 3.0], [694252800, 3.0], [788947200, 6.0], [757411200, 2.0], [284025600, 2.0], [252489600, 3.0], [220953600, 1.0], [189331200, 0.0], [157795200, 0.0], [126259200, 1.0], [94723200, 2.0], [63100800, 0.0], [31564800, 4.0], [28800, 2.0], [1009872000, 13.0], [915177600, 6.0], [946713600, 10.0], [978336000, 15.0], [1136102400, 12.0], [1167638400, 4.0], [1072944000, 5.0], [883641600, 7.0], [1199174400, 4.0], [1230796800, 6.0]], 
        'key': 'domestic'
    }, 
    {
        'values': [[1041408000, 6.0], [852105600, 3.0], [568022400, 3.0], [599644800, 6.0], [504950400, 7.0], [536486400, 5.0], [441792000, 5.0], [473414400, 4.0], [-63129600, 4.0], [-31507200, 1.0], [315561600, 7.0], [347184000, 3.0], [-189360000, 4.0], [-157737600, 5.0], [-126201600, 3.0], [-94665600, 1.0], [-315590400, 1.0], [-283968000, 0.0], [-252432000, 1.0], [-220896000, 1.0], [820483200, 4.0], [1388563200, 5.0], [1483257600, 1.0], [1451635200, 2.0], [1293868800, 6.0], [1262332800, 5.0], [1357027200, 5.0], [1325404800, 4.0], [1420099200, 3.0], [1104566400, 2.0], [-473356800, 1.0], [-504892800, 0.0], [-410198400, 2.0], [-441820800, 3.0], [-599587200, 2.0], [-631123200, 1.0], [-536428800, 2.0], [-568051200, 1.0], [378720000, 5.0], [-347126400, 4.0], [-378662400, 5.0], [410256000, 4.0], [662716800, 5.0], [631180800, 3.0], [725875200, 3.0], [694252800, 2.0], [788947200, 2.0], [757411200, 0.0], [284025600, 7.0], [252489600, 5.0], [220953600, 3.0], [189331200, 2.0], [157795200, 6.0], [126259200, 7.0], [94723200, 3.0], [63100800, 1.0], [31564800, 2.0], [28800, 0.0], [1009872000, 1.0], [915177600, 3.0], [946713600, 4.0], [978336000, 5.0], [1136102400, 4.0], [1167638400, 2.0], [1072944000, 4.0], [883641600, 3.0], [1199174400, 6.0], [1230796800, 3.0]], 
        'key': 'spy_and_politics'
    }, 
    {
        'values': [[1041408000, 3.0], [852105600, 7.0], [568022400, 6.0], [599644800, 7.0], [504950400, 6.0], [536486400, 7.0], [441792000, 2.0], [473414400, 4.0], [-63129600, 0.0], [-31507200, 4.0], [315561600, 3.0], [347184000, 5.0], [-189360000, 0.0], [-157737600, 2.0], [-126201600, 0.0], [-94665600, 1.0], [-315590400, 5.0], [-283968000, 5.0], [-252432000, 2.0], [-220896000, 2.0], [820483200, 12.0], [1388563200, 5.0], [1483257600, 1.0], [1451635200, 3.0], [1293868800, 6.0], [1262332800, 5.0], [1357027200, 1.0], [1325404800, 9.0], [1420099200, 5.0], [1104566400, 6.0], [-473356800, 0.0], [-504892800, 1.0], [-410198400, 7.0], [-441820800, 4.0], [-599587200, 1.0], [-631123200, 3.0], [-536428800, 4.0], [-568051200, 4.0], [378720000, 4.0], [-347126400, 5.0], [-378662400, 6.0], [410256000, 3.0], [662716800, 9.0], [631180800, 8.0], [725875200, 6.0], [694252800, 6.0], [788947200, 10.0], [757411200, 5.0], [284025600, 2.0], [252489600, 3.0], [220953600, 4.0], [189331200, 3.0], [157795200, 0.0], [126259200, 3.0], [94723200, 1.0], [63100800, 1.0], [31564800, 0.0], [28800, 3.0], [1009872000, 4.0], [915177600, 8.0], [946713600, 6.0], [978336000, 5.0], [1136102400, 6.0], [1167638400, 10.0], [1072944000, 5.0], [883641600, 11.0], [1199174400, 8.0], [1230796800, 4.0]], 
        'key': 'romance'
    }, 
    {
        'values': [[1041408000, 4.0], [852105600, 8.0], [568022400, 3.0], [599644800, 3.0], [504950400, 3.0], [536486400, 3.0], [441792000, 4.0], [473414400, 3.0], [-63129600, 3.0], [-31507200, 2.0], [315561600, 3.0], [347184000, 3.0], [-189360000, 1.0], [-157737600, 0.0], [-126201600, 0.0], [-94665600, 1.0], [-315590400, 4.0], [-283968000, 5.0], [-252432000, 6.0], [-220896000, 2.0], [820483200, 7.0], [1388563200, 1.0], [1483257600, 1.0], [1451635200, 4.0], [1293868800, 5.0], [1262332800, 3.0], [1357027200, 6.0], [1325404800, 2.0], [1420099200, 5.0], [1104566400, 6.0], [-473356800, 2.0], [-504892800, 4.0], [-410198400, 3.0], [-441820800, 1.0], [-599587200, 3.0], [-631123200, 3.0], [-536428800, 2.0], [-568051200, 2.0], [378720000, 1.0], [-347126400, 4.0], [-378662400, 2.0], [410256000, 1.0], [662716800, 3.0], [631180800, 4.0], [725875200, 2.0], [694252800, 3.0], [788947200, 8.0], [757411200, 3.0], [284025600, 3.0], [252489600, 2.0], [220953600, 0.0], [189331200, 0.0], [157795200, 2.0], [126259200, 1.0], [94723200, 1.0], [63100800, 2.0], [31564800, 0.0], [28800, 1.0], [1009872000, 3.0], [915177600, 8.0], [946713600, 8.0], [978336000, 8.0], [1136102400, 6.0], [1167638400, 4.0], [1072944000, 2.0], [883641600, 8.0], [1199174400, 8.0], [1230796800, 6.0]], 
        'key': 'other'
    }, 
    {
        'values': [[1041408000, 5.0], [852105600, 2.0], [568022400, 1.0], [599644800, 1.0], [504950400, 0.0], [536486400, 0.0], [441792000, 0.0], [473414400, 0.0], [-63129600, 0.0], [-31507200, 1.0], [315561600, 0.0], [347184000, 1.0], [-189360000, 0.0], [-157737600, 0.0], [-126201600, 0.0], [-94665600, 0.0], [-315590400, 1.0], [-283968000, 0.0], [-252432000, 0.0], [-220896000, 0.0], [820483200, 0.0], [1388563200, 11.0], [1483257600, 2.0], [1451635200, 7.0], [1293868800, 20.0], [1262332800, 17.0], [1357027200, 9.0], [1325404800, 11.0], [1420099200, 6.0], [1104566400, 10.0], [-473356800, 0.0], [-504892800, 0.0], [-410198400, 0.0], [-441820800, 0.0], [-599587200, 0.0], [-631123200, 1.0], [-536428800, 0.0], [-568051200, 0.0], [378720000, 3.0], [-347126400, 1.0], [-378662400, 0.0], [410256000, 2.0], [662716800, 3.0], [631180800, 2.0], [725875200, 0.0], [694252800, 2.0], [788947200, 1.0], [757411200, 1.0], [284025600, 0.0], [252489600, 1.0], [220953600, 0.0], [189331200, 0.0], [157795200, 0.0], [126259200, 0.0], [94723200, 0.0], [63100800, 0.0], [31564800, 0.0], [28800, 0.0], [1009872000, 7.0], [915177600, 5.0], [946713600, 2.0], [978336000, 9.0], [1136102400, 14.0], [1167638400, 16.0], [1072944000, 3.0], [883641600, 3.0], [1199174400, 13.0], [1230796800, 17.0]], 
        'key': 'suspense'
    }, 
    {
        'values': [[1041408000, 1.0], [852105600, 5.0], [568022400, 3.0], [599644800, 6.0], [504950400, 6.0], [536486400, 5.0], [441792000, 3.0], [473414400, 3.0], [-63129600, 1.0], [-31507200, 1.0], [315561600, 3.0], [347184000, 2.0], [-189360000, 0.0], [-157737600, 0.0], [-126201600, 0.0], [-94665600, 2.0], [-315590400, 1.0], [-283968000, 1.0], [-252432000, 1.0], [-220896000, 2.0], [820483200, 5.0], [1388563200, 3.0], [1483257600, 1.0], [1451635200, 0.0], [1293868800, 1.0], [1262332800, 3.0], [1357027200, 0.0], [1325404800, 2.0], [1420099200, 0.0], [1104566400, 2.0], [-473356800, 1.0], [-504892800, 1.0], [-410198400, 4.0], [-441820800, 3.0], [-599587200, 3.0], [-631123200, 2.0], [-536428800, 4.0], [-568051200, 5.0], [378720000, 1.0], [-347126400, 2.0], [-378662400, 2.0], [410256000, 1.0], [662716800, 2.0], [631180800, 6.0], [725875200, 6.0], [694252800, 3.0], [788947200, 3.0], [757411200, 7.0], [284025600, 2.0], [252489600, 2.0], [220953600, 3.0], [189331200, 4.0], [157795200, 5.0], [126259200, 4.0], [94723200, 1.0], [63100800, 3.0], [31564800, 3.0], [28800, 1.0], [1009872000, 1.0], [915177600, 5.0], [946713600, 3.0], [978336000, 4.0], [1136102400, 2.0], [1167638400, 0.0], [1072944000, 0.0], [883641600, 4.0], [1199174400, 1.0], [1230796800, 5.0]], 
        'key': 'adventure'
    }, 
    {
        'values': [[1041408000, 3.0], [852105600, 4.0], [568022400, 5.0], [599644800, 4.0], [504950400, 1.0], [536486400, 3.0], [441792000, 1.0], [473414400, 2.0], [-63129600, 1.0], [-31507200, 2.0], [315561600, 0.0], [347184000, 1.0], [-189360000, 0.0], [-157737600, 1.0], [-126201600, 1.0], [-94665600, 0.0], [-315590400, 1.0], [-283968000, 1.0], [-252432000, 1.0], [-220896000, 0.0], [820483200, 2.0], [1388563200, 5.0], [1483257600, 0.0], [1451635200, 2.0], [1293868800, 5.0], [1262332800, 3.0], [1357027200, 1.0], [1325404800, 4.0], [1420099200, 5.0], [1104566400, 3.0], [-473356800, 2.0], [-504892800, 4.0], [-410198400, 2.0], [-441820800, 1.0], [-599587200, 3.0], [-631123200, 1.0], [-536428800, 2.0], [-568051200, 1.0], [378720000, 3.0], [-347126400, 1.0], [-378662400, 3.0], [410256000, 0.0], [662716800, 5.0], [631180800, 2.0], [725875200, 1.0], [694252800, 2.0], [788947200, 1.0], [757411200, 3.0], [284025600, 1.0], [252489600, 2.0], [220953600, 1.0], [189331200, 0.0], [157795200, 0.0], [126259200, 2.0], [94723200, 1.0], [63100800, 0.0], [31564800, 0.0], [28800, 2.0], [1009872000, 0.0], [915177600, 2.0], [946713600, 4.0], [978336000, 2.0], [1136102400, 1.0], [1167638400, 2.0], [1072944000, 3.0], [883641600, 2.0], [1199174400, 6.0], [1230796800, 4.0]], 
        'key': 'historical'
    }, 
    {
        'values': [[1041408000, 98.0], [852105600, 59.0], [568022400, 35.0], [599644800, 34.0], [504950400, 30.0], [536486400, 34.0], [441792000, 38.0], [473414400, 41.0], [-63129600, 21.0], [-31507200, 25.0], [315561600, 34.0], [347184000, 35.0], [-189360000, 30.0], [-157737600, 25.0], [-126201600, 26.0], [-94665600, 27.0], [-315590400, 53.0], [-283968000, 55.0], [-252432000, 51.0], [-220896000, 23.0], [820483200, 43.0], [1388563200, 141.0], [1483257600, 37.0], [1451635200, 137.0], [1293868800, 116.0], [1262332800, 142.0], [1357027200, 162.0], [1325404800, 147.0], [1420099200, 147.0], [1104566400, 89.0], [-473356800, 65.0], [-504892800, 54.0], [-410198400, 53.0], [-441820800, 61.0], [-599587200, 77.0], [-631123200, 64.0], [-536428800, 49.0], [-568051200, 62.0], [378720000, 31.0], [-347126400, 55.0], [-378662400, 52.0], [410256000, 25.0], [662716800, 34.0], [631180800, 40.0], [725875200, 44.0], [694252800, 41.0], [788947200, 47.0], [757411200, 46.0], [284025600, 33.0], [252489600, 21.0], [220953600, 30.0], [189331200, 26.0], [157795200, 17.0], [126259200, 21.0], [94723200, 27.0], [63100800, 25.0], [31564800, 30.0], [28800, 23.0], [1009872000, 91.0], [915177600, 48.0], [946713600, 59.0], [978336000, 69.0], [1136102400, 104.0], [1167638400, 116.0], [1072944000, 104.0], [883641600, 47.0], [1199174400, 108.0], [1230796800, 131.0]], 
        'key': 'literary fiction/no genre'
    }, 
    {
        'values': [[1041408000, 0.0], [852105600, 1.0], [568022400, 0.0], [599644800, 0.0], [504950400, 0.0], [536486400, 0.0], [441792000, 1.0], [473414400, 0.0], [-63129600, 1.0], [-31507200, 1.0], [315561600, 0.0], [347184000, 0.0], [-189360000, 0.0], [-157737600, 0.0], [-126201600, 0.0], [-94665600, 0.0], [-315590400, 3.0], [-283968000, 1.0], [-252432000, 2.0], [-220896000, 1.0], [820483200, 0.0], [1388563200, 0.0], [1483257600, 2.0], [1451635200, 0.0], [1293868800, 0.0], [1262332800, 0.0], [1357027200, 0.0], [1325404800, 0.0], [1420099200, 0.0], [1104566400, 1.0], [-473356800, 5.0], [-504892800, 4.0], [-410198400, 8.0], [-441820800, 5.0], [-599587200, 5.0], [-631123200, 5.0], [-536428800, 7.0], [-568051200, 6.0], [378720000, 1.0], [-347126400, 3.0], [-378662400, 4.0], [410256000, 1.0], [662716800, 0.0], [631180800, 0.0], [725875200, 0.0], [694252800, 0.0], [788947200, 0.0], [757411200, 0.0], [284025600, 0.0], [252489600, 1.0], [220953600, 0.0], [189331200, 0.0], [157795200, 0.0], [126259200, 0.0], [94723200, 0.0], [63100800, 0.0], [31564800, 0.0], [28800, 0.0], [1009872000, 0.0], [915177600, 0.0], [946713600, 0.0], [978336000, 0.0], [1136102400, 0.0], [1167638400, 1.0], [1072944000, 0.0], [883641600, 0.0], [1199174400, 0.0], [1230796800, 0.0]], 
        'key': 'no subject data'
    }
];




/*
.map(function(series) {
  series.values = series.values.map(function(d) {
    return { x: d[0], y: d[1] }
  });
  return series;
});
*/

//an example of harmonizing colors between visualizations
//observe that Consumer Discretionary and Consumer Staples have 
//been flipped in the second chart
var colors = d3.scale.category20();
keyColor = function(d, i) {return colors(d.key)};

function compare(a, b) {
    if (a[0] < b[0]) return -1;
    if (a[0] > b[0]) return 1;
    return 0;
}


function sort_the_data(j_data_arr){
    target = [];
    for (x in j_data_arr){
        sub_tar = {};
        console.log(j_data_arr[x])
        sub_tar["key"] = j_data_arr[x]["key"];
        sub_tar["values"] = j_data_arr[x]["values"].sort(compare);
        target.push(sub_tar);
    }
    return target;
}

sort_the_data(genres);

var chart;
nv.addGraph(function() {
  chart = nv.models.stackedAreaChart()
               // .width(600).height(500)
                .useInteractiveGuideline(true)
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                .color(keyColor)
                .transitionDuration(300);
                //.clipEdge(true);
                
// chart.stacked.scatter.clipVoronoi(false);

  chart.xAxis
      .tickFormat(function(d) { return d3.time.format('%x')(new Date(d*1000)) });

  chart.yAxis
      .tickFormat(d3.format(',.2f'));

  d3.select('#chart1')
    .datum(genres)
    .transition().duration(0)
    .call(chart);

  nv.utils.windowResize(chart.update);

  chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

  return chart;
});

sort_the_data(genders);

var chart3;
nv.addGraph(function() {
  chart3 = nv.models.stackedAreaChart()
               // .width(600).height(500)
                .useInteractiveGuideline(true)
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                .color(keyColor)
                .transitionDuration(300);
                //.clipEdge(true);

// chart.stacked.scatter.clipVoronoi(false);
  chart3.style('expand')

  chart3.xAxis
      .tickFormat(function(d) { return d3.time.format('%x')(new Date(d*1000)) });

  chart3.yAxis
      .tickFormat(d3.format(',.2f'));

  d3.select('#chart2')
    .datum(genders)
    .transition().duration(0)
    .call(chart3);

  nv.utils.windowResize(chart3.update);

  chart3.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

  return chart3;
});
