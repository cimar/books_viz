var genders = [
    {
        'values': [[1041408000, 2.0], [852105600, 1.0], [568022400, 0], [599644800, 0], [504950400, 0], [536486400, 0], [441792000, 0], [473414400, 0], [-63129600, 0], [-31507200, 0], [315561600, 0], [347184000, 0], [-189360000, 0], [-157737600, 0], [-126201600, 0], [-94665600, 0], [-315590400, 0], [-283968000, 0], [-252432000, 1.0], [-220896000, 0], [820483200, 1.0], [1388563200, 6.0], [1483257600, 1.0], [1451635200, 4.0], [1293868800, 1.0], [1262332800, 4.0], [1357027200, 4.0], [1325404800, 4.0], [1420099200, 6.0], [1104566400, 2.0], [-473356800, 0], [-504892800, 0], [-410198400, 0], [-441820800, 0], [-599587200, 0], [-631123200, 0], [-536428800, 0], [-568051200, 0], [378720000, 0], [-347126400, 0], [-378662400, 0], [410256000, 0], [662716800, 1.0], [631180800, 0], [725875200, 0], [694252800, 0], [788947200, 1.0], [757411200, 1.0], [284025600, 0], [252489600, 0], [220953600, 0], [189331200, 0], [157795200, 0], [126259200, 0], [94723200, 0], [63100800, 0], [31564800, 0], [28800, 0], [1009872000, 4.0], [915177600, 1.0], [946713600, 2.0], [978336000, 3.0], [1136102400, 3.0], [1167638400, 2.0], [1072944000, 2.0], [883641600, 0], [1199174400, 2.0], [1230796800, 2.0]], 
        'key': 'Both'
    }, 
    {
        'values': [[1041408000, 61.0], [852105600, 43.0], [568022400, 16.0], [599644800, 24.0], [504950400, 20.0], [536486400, 19.0], [441792000, 24.0], [473414400, 19.0], [-63129600, 6.0], [-31507200, 13.0], [315561600, 20.0], [347184000, 15.0], [-189360000, 6.0], [-157737600, 8.0], [-126201600, 12.0], [-94665600, 6.0], [-315590400, 18.0], [-283968000, 20.0], [-252432000, 14.0], [-220896000, 9.0], [820483200, 36.0], [1388563200, 83.0], [1483257600, 14.0], [1451635200, 78.0], [1293868800, 85.0], [1262332800, 85.0], [1357027200, 97.0], [1325404800, 90.0], [1420099200, 77.0], [1104566400, 68.0], [-473356800, 18.0], [-504892800, 17.0], [-410198400, 20.0], [-441820800, 19.0], [-599587200, 21.0], [-631123200, 19.0], [-536428800, 15.0], [-568051200, 23.0], [378720000, 14.0], [-347126400, 14.0], [-378662400, 20.0], [410256000, 18.0], [662716800, 33.0], [631180800, 24.0], [725875200, 27.0], [694252800, 36.0], [788947200, 32.0], [757411200, 35.0], [284025600, 14.0], [252489600, 12.0], [220953600, 14.0], [189331200, 9.0], [157795200, 5.0], [126259200, 9.0], [94723200, 12.0], [63100800, 8.0], [31564800, 11.0], [28800, 13.0], [1009872000, 58.0], [915177600, 46.0], [946713600, 55.0], [978336000, 65.0], [1136102400, 76.0], [1167638400, 74.0], [1072944000, 69.0], [883641600, 41.0], [1199174400, 80.0], [1230796800, 92.0]], 
        'key': 'Female'
    },
    {
        'values': [[1041408000, 82.0], [852105600, 64.0], [568022400, 52.0], [599644800, 59.0], [504950400, 55.0], [536486400, 61.0], [441792000, 47.0], [473414400, 56.0], [-63129600, 25.0], [-31507200, 26.0], [315561600, 39.0], [347184000, 47.0], [-189360000, 24.0], [-157737600, 23.0], [-126201600, 22.0], [-94665600, 28.0], [-315590400, 53.0], [-283968000, 42.0], [-252432000, 47.0], [-220896000, 21.0], [820483200, 59.0], [1388563200, 111.0], [1483257600, 26.0], [1451635200, 90.0], [1293868800, 106.0], [1262332800, 110.0], [1357027200, 108.0], [1325404800, 106.0], [1420099200, 102.0], [1104566400, 78.0], [-473356800, 51.0], [-504892800, 48.0], [-410198400, 52.0], [-441820800, 52.0], [-599587200, 63.0], [-631123200, 52.0], [-536428800, 49.0], [-568051200, 53.0], [378720000, 51.0], [-347126400, 54.0], [-378662400, 52.0], [410256000, 40.0], [662716800, 54.0], [631180800, 59.0], [725875200, 59.0], [694252800, 49.0], [788947200, 58.0], [757411200, 53.0], [284025600, 41.0], [252489600, 31.0], [220953600, 33.0], [189331200, 31.0], [157795200, 29.0], [126259200, 33.0], [94723200, 27.0], [63100800, 30.0], [31564800, 33.0], [28800, 23.0], [1009872000, 72.0], [915177600, 60.0], [946713600, 65.0], [978336000, 68.0], [1136102400, 89.0], [1167638400, 93.0], [1072944000, 68.0], [883641600, 56.0], [1199174400, 98.0], [1230796800, 106.0]], 
        'key': 'Male'
    },  
    {
        'values': [[1041408000, 4.0], [852105600, 5.0], [568022400, 5.0], [599644800, 3.0], [504950400, 4.0], [536486400, 3.0], [441792000, 6.0], [473414400, 3.0], [-63129600, 3.0], [-31507200, 4.0], [315561600, 5.0], [347184000, 2.0], [-189360000, 7.0], [-157737600, 4.0], [-126201600, 0], [-94665600, 4.0], [-315590400, 4.0], [-283968000, 9.0], [-252432000, 6.0], [-220896000, 4.0], [820483200, 7.0], [1388563200, 11.0], [1483257600, 7.0], [1451635200, 7.0], [1293868800, 10.0], [1262332800, 9.0], [1357027200, 6.0], [1325404800, 8.0], [1420099200, 6.0], [1104566400, 7.0], [-473356800, 11.0], [-504892800, 9.0], [-410198400, 12.0], [-441820800, 8.0], [-599587200, 12.0], [-631123200, 9.0], [-536428800, 11.0], [-568051200, 11.0], [378720000, 3.0], [-347126400, 9.0], [-378662400, 7.0], [410256000, 5.0], [662716800, 6.0], [631180800, 10.0], [725875200, 10.0], [694252800, 7.0], [788947200, 4.0], [757411200, 8.0], [284025600, 5.0], [252489600, 2.0], [220953600, 4.0], [189331200, 3.0], [157795200, 2.0], [126259200, 1.0], [94723200, 1.0], [63100800, 1.0], [31564800, 2.0], [28800, 1.0], [1009872000, 8.0], [915177600, 4.0], [946713600, 4.0], [978336000, 8.0], [1136102400, 7.0], [1167638400, 12.0], [1072944000, 9.0], [883641600, 7.0], [1199174400, 9.0], [1230796800, 6.0]], 
        'key': 'NA'}
];

var genres = [ 
	{
        "values": [[1041408000, 11.0], [852105600, 14.0], [568022400, 4.0], [599644800, 12.0], [504950400, 8.0], [536486400, 9.0], [441792000, 6.0], [473414400, 7.0], [-63129600, 1.0], [-31507200, 4.0], [315561600, 8.0], [347184000, 5.0], [-189360000, 1.0], [-157737600, 0], [-126201600, 1.0], [-94665600, 2.0], [-315590400, 5.0], [-283968000, 1.0], [-252432000, 3.0], [-220896000, 3.0], [820483200, 14.0], [1388563200, 16.0], [1483257600, 3.0], [1451635200, 12.0], [1293868800, 23.0], [1262332800, 14.0], [1357027200, 17.0], [1325404800, 12.0], [1420099200, 13.0], [1104566400, 8.0], [-473356800, 1.0], [-504892800, 2.0], [-410198400, 0], [-441820800, 0], [-599587200, 2.0], [-631123200, 0], [-536428800, 1.0], [-568051200, 2.0], [378720000, 6.0], [-347126400, 2.0], [-378662400, 1.0], [410256000, 3.0], [662716800, 12.0], [631180800, 12.0], [725875200, 10.0], [694252800, 15.0], [788947200, 8.0], [757411200, 15.0], [284025600, 6.0], [252489600, 5.0], [220953600, 6.0], [189331200, 7.0], [157795200, 5.0], [126259200, 4.0], [94723200, 3.0], [63100800, 5.0], [31564800, 3.0], [28800, 3.0], [1009872000, 12.0], [915177600, 19.0], [946713600, 24.0], [978336000, 18.0], [1136102400, 14.0], [1167638400, 14.0], [1072944000, 8.0], [883641600, 12.0], [1199174400, 15.0], [1230796800, 20.0]], 
        "key": "mystery"
    }, 
    {
        "values": [[1041408000, 7.0], [852105600, 5.0], [568022400, 7.0], [599644800, 7.0], [504950400, 12.0], [536486400, 11.0], [441792000, 6.0], [473414400, 7.0], [-63129600, 1.0], [-31507200, 2.0], [315561600, 4.0], [347184000, 6.0], [-189360000, 0], [-157737600, 0], [-126201600, 1.0], [-94665600, 0], [-315590400, 0], [-283968000, 0], [-252432000, 1.0], [-220896000, 0], [820483200, 6.0], [1388563200, 5.0], [1483257600, 0], [1451635200, 4.0], [1293868800, 5.0], [1262332800, 5.0], [1357027200, 4.0], [1325404800, 3.0], [1420099200, 2.0], [1104566400, 12.0], [-473356800, 0], [-504892800, 0], [-410198400, 1.0], [-441820800, 0], [-599587200, 0], [-631123200, 0], [-536428800, 1.0], [-568051200, 1.0], [378720000, 8.0], [-347126400, 0], [-378662400, 0], [410256000, 9.0], [662716800, 9.0], [631180800, 6.0], [725875200, 12.0], [694252800, 10.0], [788947200, 4.0], [757411200, 8.0], [284025600, 1.0], [252489600, 1.0], [220953600, 3.0], [189331200, 1.0], [157795200, 1.0], [126259200, 1.0], [94723200, 1.0], [63100800, 1.0], [31564800, 0], [28800, 2.0], [1009872000, 5.0], [915177600, 9.0], [946713600, 9.0], [978336000, 10.0], [1136102400, 5.0], [1167638400, 7.0], [1072944000, 7.0], [883641600, 3.0], [1199174400, 8.0], [1230796800, 4.0]], 
        "key": "fsf"
    }, 
    {
        "values": [[1041408000, 0], [852105600, 0], [568022400, 0], [599644800, 0], [504950400, 0], [536486400, 0], [441792000, 0], [473414400, 0], [-63129600, 0], [-31507200, 0], [315561600, 0], [347184000, 0], [-189360000, 0], [-157737600, 0], [-126201600, 0], [-94665600, 0], [-315590400, 0], [-283968000, 0], [-252432000, 0], [-220896000, 0], [820483200, 0], [1388563200, 1.0], [1483257600, 0], [1451635200, 0], [1293868800, 1.0], [1262332800, 1.0], [1357027200, 0], [1325404800, 0], [1420099200, 1.0], [1104566400, 0], [-473356800, 0], [-504892800, 0], [-410198400, 0], [-441820800, 0], [-599587200, 0], [-631123200, 0], [-536428800, 0], [-568051200, 0], [378720000, 0], [-347126400, 0], [-378662400, 0], [410256000, 0], [662716800, 0], [631180800, 0], [725875200, 0], [694252800, 0], [788947200, 0], [757411200, 0], [284025600, 0], [252489600, 0], [220953600, 0], [189331200, 0], [157795200, 0], [126259200, 0], [94723200, 0], [63100800, 0], [31564800, 0], [28800, 0], [1009872000, 0], [915177600, 0], [946713600, 0], [978336000, 0], [1136102400, 0], [1167638400, 0], [1072944000, 0], [883641600, 0], [1199174400, 2.0], [1230796800, 1.0]], 
        "key": "ya"
    }, 
    {
        "values": [[1041408000, 5.0], [852105600, 2.0], [568022400, 2.0], [599644800, 4.0], [504950400, 3.0], [536486400, 2.0], [441792000, 4.0], [473414400, 3.0], [-63129600, 2.0], [-31507200, 1.0], [315561600, 5.0], [347184000, 3.0], [-189360000, 3.0], [-157737600, 4.0], [-126201600, 3.0], [-94665600, 1.0], [-315590400, 1.0], [-283968000, 0], [-252432000, 0], [-220896000, 1.0], [820483200, 3.0], [1388563200, 3.0], [1483257600, 0], [1451635200, 1.0], [1293868800, 5.0], [1262332800, 3.0], [1357027200, 3.0], [1325404800, 3.0], [1420099200, 4.0], [1104566400, 2.0], [-473356800, 1.0], [-504892800, 0], [-410198400, 2.0], [-441820800, 2.0], [-599587200, 2.0], [-631123200, 0], [-536428800, 0], [-568051200, 1.0], [378720000, 1.0], [-347126400, 3.0], [-378662400, 5.0], [410256000, 2.0], [662716800, 4.0], [631180800, 2.0], [725875200, 2.0], [694252800, 1.0], [788947200, 0], [757411200, 0], [284025600, 5.0], [252489600, 4.0], [220953600, 2.0], [189331200, 1.0], [157795200, 3.0], [126259200, 5.0], [94723200, 2.0], [63100800, 0], [31564800, 1.0], [28800, 0], [1009872000, 1.0], [915177600, 2.0], [946713600, 2.0], [978336000, 5.0], [1136102400, 4.0], [1167638400, 2.0], [1072944000, 4.0], [883641600, 2.0], [1199174400, 5.0], [1230796800, 4.0]], 
        "key": "spy_and_politics"
    }, 
    {
        "values": [[1041408000, 1.0], [852105600, 4.0], [568022400, 5.0], [599644800, 5.0], [504950400, 4.0], [536486400, 4.0], [441792000, 3.0], [473414400, 4.0], [-63129600, 1.0], [-31507200, 0], [315561600, 1.0], [347184000, 1.0], [-189360000, 0], [-157737600, 1.0], [-126201600, 0], [-94665600, 1.0], [-315590400, 0], [-283968000, 0], [-252432000, 1.0], [-220896000, 0], [820483200, 3.0], [1388563200, 4.0], [1483257600, 0], [1451635200, 2.0], [1293868800, 8.0], [1262332800, 7.0], [1357027200, 5.0], [1325404800, 13.0], [1420099200, 2.0], [1104566400, 4.0], [-473356800, 0], [-504892800, 0], [-410198400, 0], [-441820800, 0], [-599587200, 0], [-631123200, 0], [-536428800, 0], [-568051200, 1.0], [378720000, 2.0], [-347126400, 0], [-378662400, 0], [410256000, 6.0], [662716800, 5.0], [631180800, 4.0], [725875200, 6.0], [694252800, 3.0], [788947200, 3.0], [757411200, 5.0], [284025600, 1.0], [252489600, 0], [220953600, 1.0], [189331200, 0], [157795200, 0], [126259200, 0], [94723200, 0], [63100800, 1.0], [31564800, 2.0], [28800, 1.0], [1009872000, 1.0], [915177600, 2.0], [946713600, 2.0], [978336000, 2.0], [1136102400, 4.0], [1167638400, 3.0], [1072944000, 3.0], [883641600, 3.0], [1199174400, 6.0], [1230796800, 7.0]], 
        "key": "horror"
    }, 
    {
        "values": [[1041408000, 8.0], [852105600, 3.0], [568022400, 2.0], [599644800, 2.0], [504950400, 3.0], [536486400, 3.0], [441792000, 5.0], [473414400, 1.0], [-63129600, 0], [-31507200, 1.0], [315561600, 1.0], [347184000, 1.0], [-189360000, 1.0], [-157737600, 1.0], [-126201600, 1.0], [-94665600, 3.0], [-315590400, 1.0], [-283968000, 2.0], [-252432000, 0], [-220896000, 0], [820483200, 7.0], [1388563200, 10.0], [1483257600, 0], [1451635200, 2.0], [1293868800, 8.0], [1262332800, 6.0], [1357027200, 2.0], [1325404800, 5.0], [1420099200, 2.0], [1104566400, 11.0], [-473356800, 2.0], [-504892800, 3.0], [-410198400, 2.0], [-441820800, 0], [-599587200, 1.0], [-631123200, 0], [-536428800, 2.0], [-568051200, 2.0], [378720000, 3.0], [-347126400, 0], [-378662400, 2.0], [410256000, 3.0], [662716800, 4.0], [631180800, 2.0], [725875200, 1.0], [694252800, 1.0], [788947200, 5.0], [757411200, 2.0], [284025600, 3.0], [252489600, 2.0], [220953600, 0], [189331200, 0], [157795200, 0], [126259200, 1.0], [94723200, 1.0], [63100800, 0], [31564800, 2.0], [28800, 1.0], [1009872000, 10.0], [915177600, 6.0], [946713600, 9.0], [978336000, 13.0], [1136102400, 9.0], [1167638400, 3.0], [1072944000, 4.0], [883641600, 7.0], [1199174400, 5.0], [1230796800, 6.0]], 
        "key": "domestic"
    }, 
    {
        "values": [[1041408000, 3.0], [852105600, 4.0], [568022400, 0], [599644800, 0], [504950400, 0], [536486400, 0], [441792000, 0], [473414400, 1.0], [-63129600, 1.0], [-31507200, 0], [315561600, 0], [347184000, 0], [-189360000, 0], [-157737600, 0], [-126201600, 0], [-94665600, 0], [-315590400, 0], [-283968000, 1.0], [-252432000, 2.0], [-220896000, 1.0], [820483200, 2.0], [1388563200, 0], [1483257600, 1.0], [1451635200, 1.0], [1293868800, 0], [1262332800, 1.0], [1357027200, 3.0], [1325404800, 1.0], [1420099200, 0], [1104566400, 2.0], [-473356800, 1.0], [-504892800, 0], [-410198400, 2.0], [-441820800, 0], [-599587200, 1.0], [-631123200, 1.0], [-536428800, 1.0], [-568051200, 0], [378720000, 0], [-347126400, 1.0], [-378662400, 2.0], [410256000, 0], [662716800, 0], [631180800, 0], [725875200, 1.0], [694252800, 0], [788947200, 5.0], [757411200, 2.0], [284025600, 1.0], [252489600, 0], [220953600, 0], [189331200, 0], [157795200, 0], [126259200, 1.0], [94723200, 0], [63100800, 0], [31564800, 0], [28800, 0], [1009872000, 1.0], [915177600, 2.0], [946713600, 1.0], [978336000, 4.0], [1136102400, 3.0], [1167638400, 2.0], [1072944000, 1.0], [883641600, 4.0], [1199174400, 2.0], [1230796800, 1.0]], 
        "key": "legal"
    }, 
    {
        "values": [[1041408000, 5.0], [852105600, 7.0], [568022400, 6.0], [599644800, 7.0], [504950400, 4.0], [536486400, 6.0], [441792000, 3.0], [473414400, 4.0], [-63129600, 0], [-31507200, 3.0], [315561600, 2.0], [347184000, 5.0], [-189360000, 0], [-157737600, 3.0], [-126201600, 0], [-94665600, 1.0], [-315590400, 4.0], [-283968000, 4.0], [-252432000, 1.0], [-220896000, 2.0], [820483200, 11.0], [1388563200, 5.0], [1483257600, 0], [1451635200, 2.0], [1293868800, 6.0], [1262332800, 4.0], [1357027200, 3.0], [1325404800, 5.0], [1420099200, 3.0], [1104566400, 7.0], [-473356800, 1.0], [-504892800, 2.0], [-410198400, 5.0], [-441820800, 4.0], [-599587200, 1.0], [-631123200, 1.0], [-536428800, 6.0], [-568051200, 4.0], [378720000, 6.0], [-347126400, 4.0], [-378662400, 4.0], [410256000, 3.0], [662716800, 10.0], [631180800, 8.0], [725875200, 7.0], [694252800, 5.0], [788947200, 9.0], [757411200, 4.0], [284025600, 1.0], [252489600, 3.0], [220953600, 3.0], [189331200, 2.0], [157795200, 0], [126259200, 3.0], [94723200, 1.0], [63100800, 1.0], [31564800, 1.0], [28800, 3.0], [1009872000, 6.0], [915177600, 6.0], [946713600, 7.0], [978336000, 7.0], [1136102400, 8.0], [1167638400, 9.0], [1072944000, 4.0], [883641600, 8.0], [1199174400, 5.0], [1230796800, 3.0]], 
        "key": "romance"
    }, 
    {
        "values": [[1041408000, 4.0], [852105600, 2.0], [568022400, 3.0], [599644800, 3.0], [504950400, 2.0], [536486400, 0], [441792000, 1.0], [473414400, 1.0], [-63129600, 0], [-31507200, 1.0], [315561600, 1.0], [347184000, 1.0], [-189360000, 0], [-157737600, 0], [-126201600, 0], [-94665600, 0], [-315590400, 1.0], [-283968000, 0], [-252432000, 0], [-220896000, 0], [820483200, 0], [1388563200, 10.0], [1483257600, 1.0], [1451635200, 5.0], [1293868800, 22.0], [1262332800, 12.0], [1357027200, 7.0], [1325404800, 12.0], [1420099200, 6.0], [1104566400, 10.0], [-473356800, 0], [-504892800, 0], [-410198400, 0], [-441820800, 0], [-599587200, 0], [-631123200, 1.0], [-536428800, 0], [-568051200, 0], [378720000, 3.0], [-347126400, 1.0], [-378662400, 0], [410256000, 1.0], [662716800, 4.0], [631180800, 4.0], [725875200, 0], [694252800, 1.0], [788947200, 3.0], [757411200, 2.0], [284025600, 1.0], [252489600, 0], [220953600, 0], [189331200, 0], [157795200, 1.0], [126259200, 1.0], [94723200, 0], [63100800, 0], [31564800, 0], [28800, 0], [1009872000, 4.0], [915177600, 5.0], [946713600, 4.0], [978336000, 6.0], [1136102400, 13.0], [1167638400, 14.0], [1072944000, 4.0], [883641600, 4.0], [1199174400, 13.0], [1230796800, 16.0]], 
        "key": "suspense"
    }, 
    {
        "values": [[1041408000, 1.0], [852105600, 6.0], [568022400, 2.0], [599644800, 5.0], [504950400, 5.0], [536486400, 4.0], [441792000, 4.0], [473414400, 2.0], [-63129600, 2.0], [-31507200, 1.0], [315561600, 3.0], [347184000, 2.0], [-189360000, 1.0], [-157737600, 1.0], [-126201600, 0], [-94665600, 2.0], [-315590400, 1.0], [-283968000, 2.0], [-252432000, 4.0], [-220896000, 1.0], [820483200, 7.0], [1388563200, 2.0], [1483257600, 0], [1451635200, 0], [1293868800, 1.0], [1262332800, 3.0], [1357027200, 0], [1325404800, 2.0], [1420099200, 0], [1104566400, 1.0], [-473356800, 0], [-504892800, 1.0], [-410198400, 4.0], [-441820800, 4.0], [-599587200, 3.0], [-631123200, 2.0], [-536428800, 3.0], [-568051200, 4.0], [378720000, 3.0], [-347126400, 2.0], [-378662400, 2.0], [410256000, 2.0], [662716800, 5.0], [631180800, 5.0], [725875200, 6.0], [694252800, 5.0], [788947200, 5.0], [757411200, 7.0], [284025600, 3.0], [252489600, 2.0], [220953600, 3.0], [189331200, 2.0], [157795200, 3.0], [126259200, 2.0], [94723200, 1.0], [63100800, 3.0], [31564800, 3.0], [28800, 1.0], [1009872000, 1.0], [915177600, 5.0], [946713600, 2.0], [978336000, 2.0], [1136102400, 2.0], [1167638400, 0], [1072944000, 1.0], [883641600, 5.0], [1199174400, 1.0], [1230796800, 3.0]], 
        "key": "adventure"
    }, 
    {
        "values": [[1041408000, 2.0], [852105600, 4.0], [568022400, 4.0], [599644800, 3.0], [504950400, 1.0], [536486400, 1.0], [441792000, 1.0], [473414400, 2.0], [-63129600, 0], [-31507200, 1.0], [315561600, 0], [347184000, 0], [-189360000, 0], [-157737600, 1.0], [-126201600, 1.0], [-94665600, 0], [-315590400, 1.0], [-283968000, 0], [-252432000, 0], [-220896000, 0], [820483200, 3.0], [1388563200, 6.0], [1483257600, 0], [1451635200, 1.0], [1293868800, 4.0], [1262332800, 2.0], [1357027200, 1.0], [1325404800, 4.0], [1420099200, 6.0], [1104566400, 2.0], [-473356800, 2.0], [-504892800, 5.0], [-410198400, 1.0], [-441820800, 0], [-599587200, 3.0], [-631123200, 1.0], [-536428800, 3.0], [-568051200, 3.0], [378720000, 1.0], [-347126400, 1.0], [-378662400, 3.0], [410256000, 0], [662716800, 5.0], [631180800, 0], [725875200, 0], [694252800, 2.0], [788947200, 0], [757411200, 0], [284025600, 1.0], [252489600, 3.0], [220953600, 2.0], [189331200, 0], [157795200, 0], [126259200, 2.0], [94723200, 1.0], [63100800, 0], [31564800, 2.0], [28800, 2.0], [1009872000, 0], [915177600, 3.0], [946713600, 3.0], [978336000, 2.0], [1136102400, 1.0], [1167638400, 1.0], [1072944000, 2.0], [883641600, 3.0], [1199174400, 4.0], [1230796800, 5.0]], 
        "key": "historical"
    }, 

    {
        "values": [[1041408000, 1.0], [852105600, 2.0], [568022400, 0], [599644800, 1.0], [504950400, 0], [536486400, 0], [441792000, 1.0], [473414400, 0], [-63129600, 1.0], [-31507200, 1.0], [315561600, 0], [347184000, 0], [-189360000, 1.0], [-157737600, 0], [-126201600, 0], [-94665600, 1.0], [-315590400, 4.0], [-283968000, 1.0], [-252432000, 0], [-220896000, 1.0], [820483200, 0], [1388563200, 0], [1483257600, 0], [1451635200, 0], [1293868800, 0], [1262332800, 0], [1357027200, 2.0], [1325404800, 1.0], [1420099200, 2.0], [1104566400, 3.0], [-473356800, 0], [-504892800, 0], [-410198400, 0], [-441820800, 0], [-599587200, 0], [-631123200, 1.0], [-536428800, 0], [-568051200, 0], [378720000, 0], [-347126400, 2.0], [-378662400, 0], [410256000, 1.0], [662716800, 0], [631180800, 1.0], [725875200, 0], [694252800, 1.0], [788947200, 0], [757411200, 0], [284025600, 0], [252489600, 0], [220953600, 0], [189331200, 0], [157795200, 0], [126259200, 0], [94723200, 1.0], [63100800, 2.0], [31564800, 0], [28800, 1.0], [1009872000, 1.0], [915177600, 0], [946713600, 0], [978336000, 1.0], [1136102400, 1.0], [1167638400, 0], [1072944000, 0], [883641600, 0], [1199174400, 2.0], [1230796800, 0]], 
        "key": "religious"
    }, 
    {
        "values": [[1041408000, 0], [852105600, 1.0], [568022400, 1.0], [599644800, 2.0], [504950400, 3.0], [536486400, 3.0], [441792000, 2.0], [473414400, 2.0], [-63129600, 1.0], [-31507200, 1.0], [315561600, 2.0], [347184000, 1.0], [-189360000, 0], [-157737600, 0], [-126201600, 0], [-94665600, 0], [-315590400, 0], [-283968000, 1.0], [-252432000, 3.0], [-220896000, 1.0], [820483200, 1.0], [1388563200, 0], [1483257600, 0], [1451635200, 0], [1293868800, 2.0], [1262332800, 0], [1357027200, 1.0], [1325404800, 0], [1420099200, 0], [1104566400, 0], [-473356800, 0], [-504892800, 3.0], [-410198400, 3.0], [-441820800, 0], [-599587200, 1.0], [-631123200, 1.0], [-536428800, 1.0], [-568051200, 0], [378720000, 0], [-347126400, 0], [-378662400, 1.0], [410256000, 1.0], [662716800, 1.0], [631180800, 2.0], [725875200, 1.0], [694252800, 1.0], [788947200, 2.0], [757411200, 2.0], [284025600, 3.0], [252489600, 3.0], [220953600, 0], [189331200, 1.0], [157795200, 3.0], [126259200, 0], [94723200, 0], [63100800, 0], [31564800, 0], [28800, 0], [1009872000, 1.0], [915177600, 0], [946713600, 3.0], [978336000, 1.0], [1136102400, 2.0], [1167638400, 0], [1072944000, 0], [883641600, 2.0], [1199174400, 1.0], [1230796800, 0]], 
        "key": "war"
    }, 
    {
        "values": [[1041408000, 96.0], [852105600, 56.0], [568022400, 34.0], [599644800, 32.0], [504950400, 31.0], [536486400, 34.0], [441792000, 32.0], [473414400, 39.0], [-63129600, 21.0], [-31507200, 23.0], [315561600, 32.0], [347184000, 37.0], [-189360000, 25.0], [-157737600, 21.0], [-126201600, 26.0], [-94665600, 26.0], [-315590400, 51.0], [-283968000, 54.0], [-252432000, 48.0], [-220896000, 22.0], [820483200, 40.0], [1388563200, 145.0], [1483257600, 31.0], [1451635200, 147.0], [1293868800, 108.0], [1262332800, 142.0], [1357027200, 162.0], [1325404800, 141.0], [1420099200, 150.0], [1104566400, 86.0], [-473356800, 63.0], [-504892800, 52.0], [-410198400, 53.0], [-441820800, 59.0], [-599587200, 72.0], [-631123200, 58.0], [-536428800, 48.0], [-568051200, 60.0], [378720000, 32.0], [-347126400, 53.0], [-378662400, 53.0], [410256000, 27.0], [662716800, 29.0], [631180800, 37.0], [725875200, 43.0], [694252800, 39.0], [788947200, 47.0], [757411200, 47.0], [284025600, 29.0], [252489600, 20.0], [220953600, 31.0], [189331200, 26.0], [157795200, 17.0], [126259200, 21.0], [94723200, 26.0], [63100800, 25.0], [31564800, 30.0], [28800, 23.0], [1009872000, 90.0], [915177600, 49.0], [946713600, 57.0], [978336000, 68.0], [1136102400, 101.0], [1167638400, 111.0], [1072944000, 103.0], [883641600, 45.0], [1199174400, 114.0], [1230796800, 131.0]], 
        "key": "no genre"
    }, 
    {
        "values": [[1041408000, 5.0], [852105600, 3.0], [568022400, 2.0], [599644800, 3.0], [504950400, 3.0], [536486400, 5.0], [441792000, 8.0], [473414400, 5.0], [-63129600, 3.0], [-31507200, 4.0], [315561600, 5.0], [347184000, 2.0], [-189360000, 5.0], [-157737600, 3.0], [-126201600, 1.0], [-94665600, 1.0], [-315590400, 6.0], [-283968000, 5.0], [-252432000, 5.0], [-220896000, 2.0], [820483200, 6.0], [1388563200, 3.0], [1483257600, 11.0], [1451635200, 2.0], [1293868800, 9.0], [1262332800, 7.0], [1357027200, 5.0], [1325404800, 6.0], [1420099200, 0], [1104566400, 6.0], [-473356800, 9.0], [-504892800, 6.0], [-410198400, 11.0], [-441820800, 10.0], [-599587200, 10.0], [-631123200, 14.0], [-536428800, 9.0], [-568051200, 9.0], [378720000, 3.0], [-347126400, 8.0], [-378662400, 6.0], [410256000, 4.0], [662716800, 5.0], [631180800, 9.0], [725875200, 7.0], [694252800, 7.0], [788947200, 4.0], [757411200, 3.0], [284025600, 5.0], [252489600, 2.0], [220953600, 0], [189331200, 3.0], [157795200, 3.0], [126259200, 2.0], [94723200, 3.0], [63100800, 1.0], [31564800, 2.0], [28800, 0], [1009872000, 8.0], [915177600, 3.0], [946713600, 2.0], [978336000, 5.0], [1136102400, 8.0], [1167638400, 13.0], [1072944000, 7.0], [883641600, 5.0], [1199174400, 5.0], [1230796800, 5.0]], 
        "key": "needs label"
    }
];




/*
.map(function(series) {
  series.values = series.values.map(function(d) {
    return { x: d[0], y: d[1] }
  });
  return series;
});
*/

//an example of harmonizing colors between visualizations
//observe that Consumer Discretionary and Consumer Staples have 
//been flipped in the second chart
var colors = d3.scale.category20();
keyColor = function(d, i) {return colors(d.key)};

function compare(a, b) {
    if (a[0] < b[0]) return -1;
    if (a[0] > b[0]) return 1;
    return 0;
}


function sort_the_data(j_data_arr){
    target = [];
    for (x in j_data_arr){
        sub_tar = {};
        console.log(j_data_arr[x])
        sub_tar["key"] = j_data_arr[x]["key"];
        sub_tar["values"] = j_data_arr[x]["values"].sort(compare);
        target.push(sub_tar);
    }
    return target;
}

sort_the_data(genres);

var chart;
nv.addGraph(function() {
  chart = nv.models.stackedAreaChart()
               // .width(600).height(500)
                .useInteractiveGuideline(true)
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                .color(keyColor)
                .transitionDuration(300);
                //.clipEdge(true);

// chart.stacked.scatter.clipVoronoi(false);

  chart.xAxis
      .tickFormat(function(d) { return d3.time.format('%x')(new Date(d*1000)) });

  chart.yAxis
      .tickFormat(d3.format(',.2f'));

  d3.select('#chart1')
    .datum(genres)
    .transition().duration(0)
    .call(chart);

  nv.utils.windowResize(chart.update);

  chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

  return chart;
});

sort_the_data(genders);

var chart3;
nv.addGraph(function() {
  chart3 = nv.models.stackedAreaChart()
               // .width(600).height(500)
                .useInteractiveGuideline(true)
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                .color(keyColor)
                .transitionDuration(300);
                //.clipEdge(true);

// chart.stacked.scatter.clipVoronoi(false);
  chart3.style('expand')

  chart3.xAxis
      .tickFormat(function(d) { return d3.time.format('%x')(new Date(d*1000)) });

  chart3.yAxis
      .tickFormat(d3.format(',.2f'));

  d3.select('#chart2')
    .datum(genders)
    .transition().duration(0)
    .call(chart3);

  nv.utils.windowResize(chart3.update);

  chart3.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

  return chart3;
});
