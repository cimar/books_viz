<!DOCTYPE html>
<meta charset="utf-8">

<link href="build/nv.d3.1.15.css" rel="stylesheet" type="text/css">

<style>

body {
  overflow-y:scroll;
}

text {
  font: 12px sans-serif;
}

#chart1, #chart2 {
  height: 500px;
}

</style>
<body class='with-3d-shadow with-transitions'>

<h2>Genre Fiction and Literary Fiction Over Time</h2>

  <div>
    <svg id="chart1"></svg>
  </div>

<h2>Gain in Female Authorship in Popular Genres</h2>

  <div>
    <svg id="chart2"></svg>
  </div>

<script src="build/d3.v3.js"></script>
<script src="build/nv.d3.1.15.js"></script>
<script src="utils.js"></script>
<script src="models/axis.js"></script>
<script src="models/tooltip.js"></script>
<script src="../src/interactiveLayer.js"></script>
<script src="../src/models/legend.js"></script>
<script src="../src/models/scatter.js"></script>
<script src="models/stackedArea.js"></script>
<script src="models/stackedAreaChart.js"></script>
<script>


var histcatexplong = [ 
	{
        "values": [[1041408000, 11.0], [852105600, 14.0], [568022400, 4.0], [599644800, 12.0], [504950400, 8.0], [536486400, 9.0], [441792000, 6.0], [473414400, 7.0], [-63129600, 1.0], [-31507200, 4.0], [315561600, 8.0], [347184000, 5.0], [-189360000, 1.0], [-157737600, 0], [-126201600, 1.0], [-94665600, 2.0], [-315590400, 5.0], [-283968000, 1.0], [-252432000, 3.0], [-220896000, 3.0], [820483200, 14.0], [1388563200, 16.0], [1483257600, 3.0], [1451635200, 12.0], [1293868800, 23.0], [1262332800, 14.0], [1357027200, 17.0], [1325404800, 12.0], [1420099200, 13.0], [1104566400, 8.0], [-473356800, 1.0], [-504892800, 2.0], [-410198400, 0], [-441820800, 0], [-599587200, 2.0], [-631123200, 0], [-536428800, 1.0], [-568051200, 2.0], [378720000, 6.0], [-347126400, 2.0], [-378662400, 1.0], [410256000, 3.0], [662716800, 12.0], [631180800, 12.0], [725875200, 10.0], [694252800, 15.0], [788947200, 8.0], [757411200, 15.0], [284025600, 6.0], [252489600, 5.0], [220953600, 6.0], [189331200, 7.0], [157795200, 5.0], [126259200, 4.0], [94723200, 3.0], [63100800, 5.0], [31564800, 3.0], [28800, 3.0], [1009872000, 12.0], [915177600, 19.0], [946713600, 24.0], [978336000, 18.0], [1136102400, 14.0], [1167638400, 14.0], [1072944000, 8.0], [883641600, 12.0], [1199174400, 15.0], [1230796800, 20.0]], 
        "key": "mystery"
    }, 
    {
        "values": [[1041408000, 7.0], [852105600, 5.0], [568022400, 7.0], [599644800, 7.0], [504950400, 12.0], [536486400, 11.0], [441792000, 6.0], [473414400, 7.0], [-63129600, 1.0], [-31507200, 2.0], [315561600, 4.0], [347184000, 6.0], [-189360000, 0], [-157737600, 0], [-126201600, 1.0], [-94665600, 0], [-315590400, 0], [-283968000, 0], [-252432000, 1.0], [-220896000, 0], [820483200, 6.0], [1388563200, 5.0], [1483257600, 0], [1451635200, 4.0], [1293868800, 5.0], [1262332800, 5.0], [1357027200, 4.0], [1325404800, 3.0], [1420099200, 2.0], [1104566400, 12.0], [-473356800, 0], [-504892800, 0], [-410198400, 1.0], [-441820800, 0], [-599587200, 0], [-631123200, 0], [-536428800, 1.0], [-568051200, 1.0], [378720000, 8.0], [-347126400, 0], [-378662400, 0], [410256000, 9.0], [662716800, 9.0], [631180800, 6.0], [725875200, 12.0], [694252800, 10.0], [788947200, 4.0], [757411200, 8.0], [284025600, 1.0], [252489600, 1.0], [220953600, 3.0], [189331200, 1.0], [157795200, 1.0], [126259200, 1.0], [94723200, 1.0], [63100800, 1.0], [31564800, 0], [28800, 2.0], [1009872000, 5.0], [915177600, 9.0], [946713600, 9.0], [978336000, 10.0], [1136102400, 5.0], [1167638400, 7.0], [1072944000, 7.0], [883641600, 3.0], [1199174400, 8.0], [1230796800, 4.0]], 
        "key": "fsf"
    }, 
    {
        "values": [[1041408000, 0], [852105600, 0], [568022400, 0], [599644800, 0], [504950400, 0], [536486400, 0], [441792000, 0], [473414400, 0], [-63129600, 0], [-31507200, 0], [315561600, 0], [347184000, 0], [-189360000, 0], [-157737600, 0], [-126201600, 0], [-94665600, 0], [-315590400, 0], [-283968000, 0], [-252432000, 0], [-220896000, 0], [820483200, 0], [1388563200, 1.0], [1483257600, 0], [1451635200, 0], [1293868800, 1.0], [1262332800, 1.0], [1357027200, 0], [1325404800, 0], [1420099200, 1.0], [1104566400, 0], [-473356800, 0], [-504892800, 0], [-410198400, 0], [-441820800, 0], [-599587200, 0], [-631123200, 0], [-536428800, 0], [-568051200, 0], [378720000, 0], [-347126400, 0], [-378662400, 0], [410256000, 0], [662716800, 0], [631180800, 0], [725875200, 0], [694252800, 0], [788947200, 0], [757411200, 0], [284025600, 0], [252489600, 0], [220953600, 0], [189331200, 0], [157795200, 0], [126259200, 0], [94723200, 0], [63100800, 0], [31564800, 0], [28800, 0], [1009872000, 0], [915177600, 0], [946713600, 0], [978336000, 0], [1136102400, 0], [1167638400, 0], [1072944000, 0], [883641600, 0], [1199174400, 2.0], [1230796800, 1.0]], 
        "key": "ya"
    }, 
    {
        "values": [[1041408000, 5.0], [852105600, 2.0], [568022400, 2.0], [599644800, 4.0], [504950400, 3.0], [536486400, 2.0], [441792000, 4.0], [473414400, 3.0], [-63129600, 2.0], [-31507200, 1.0], [315561600, 5.0], [347184000, 3.0], [-189360000, 3.0], [-157737600, 4.0], [-126201600, 3.0], [-94665600, 1.0], [-315590400, 1.0], [-283968000, 0], [-252432000, 0], [-220896000, 1.0], [820483200, 3.0], [1388563200, 3.0], [1483257600, 0], [1451635200, 1.0], [1293868800, 5.0], [1262332800, 3.0], [1357027200, 3.0], [1325404800, 3.0], [1420099200, 4.0], [1104566400, 2.0], [-473356800, 1.0], [-504892800, 0], [-410198400, 2.0], [-441820800, 2.0], [-599587200, 2.0], [-631123200, 0], [-536428800, 0], [-568051200, 1.0], [378720000, 1.0], [-347126400, 3.0], [-378662400, 5.0], [410256000, 2.0], [662716800, 4.0], [631180800, 2.0], [725875200, 2.0], [694252800, 1.0], [788947200, 0], [757411200, 0], [284025600, 5.0], [252489600, 4.0], [220953600, 2.0], [189331200, 1.0], [157795200, 3.0], [126259200, 5.0], [94723200, 2.0], [63100800, 0], [31564800, 1.0], [28800, 0], [1009872000, 1.0], [915177600, 2.0], [946713600, 2.0], [978336000, 5.0], [1136102400, 4.0], [1167638400, 2.0], [1072944000, 4.0], [883641600, 2.0], [1199174400, 5.0], [1230796800, 4.0]], 
        "key": "spy_and_politics"
    }, 
    {
        "values": [[1041408000, 1.0], [852105600, 4.0], [568022400, 5.0], [599644800, 5.0], [504950400, 4.0], [536486400, 4.0], [441792000, 3.0], [473414400, 4.0], [-63129600, 1.0], [-31507200, 0], [315561600, 1.0], [347184000, 1.0], [-189360000, 0], [-157737600, 1.0], [-126201600, 0], [-94665600, 1.0], [-315590400, 0], [-283968000, 0], [-252432000, 1.0], [-220896000, 0], [820483200, 3.0], [1388563200, 4.0], [1483257600, 0], [1451635200, 2.0], [1293868800, 8.0], [1262332800, 7.0], [1357027200, 5.0], [1325404800, 13.0], [1420099200, 2.0], [1104566400, 4.0], [-473356800, 0], [-504892800, 0], [-410198400, 0], [-441820800, 0], [-599587200, 0], [-631123200, 0], [-536428800, 0], [-568051200, 1.0], [378720000, 2.0], [-347126400, 0], [-378662400, 0], [410256000, 6.0], [662716800, 5.0], [631180800, 4.0], [725875200, 6.0], [694252800, 3.0], [788947200, 3.0], [757411200, 5.0], [284025600, 1.0], [252489600, 0], [220953600, 1.0], [189331200, 0], [157795200, 0], [126259200, 0], [94723200, 0], [63100800, 1.0], [31564800, 2.0], [28800, 1.0], [1009872000, 1.0], [915177600, 2.0], [946713600, 2.0], [978336000, 2.0], [1136102400, 4.0], [1167638400, 3.0], [1072944000, 3.0], [883641600, 3.0], [1199174400, 6.0], [1230796800, 7.0]], 
        "key": "horror"
    }, 
    {
        "values": [[1041408000, 8.0], [852105600, 3.0], [568022400, 2.0], [599644800, 2.0], [504950400, 3.0], [536486400, 3.0], [441792000, 5.0], [473414400, 1.0], [-63129600, 0], [-31507200, 1.0], [315561600, 1.0], [347184000, 1.0], [-189360000, 1.0], [-157737600, 1.0], [-126201600, 1.0], [-94665600, 3.0], [-315590400, 1.0], [-283968000, 2.0], [-252432000, 0], [-220896000, 0], [820483200, 7.0], [1388563200, 10.0], [1483257600, 0], [1451635200, 2.0], [1293868800, 8.0], [1262332800, 6.0], [1357027200, 2.0], [1325404800, 5.0], [1420099200, 2.0], [1104566400, 11.0], [-473356800, 2.0], [-504892800, 3.0], [-410198400, 2.0], [-441820800, 0], [-599587200, 1.0], [-631123200, 0], [-536428800, 2.0], [-568051200, 2.0], [378720000, 3.0], [-347126400, 0], [-378662400, 2.0], [410256000, 3.0], [662716800, 4.0], [631180800, 2.0], [725875200, 1.0], [694252800, 1.0], [788947200, 5.0], [757411200, 2.0], [284025600, 3.0], [252489600, 2.0], [220953600, 0], [189331200, 0], [157795200, 0], [126259200, 1.0], [94723200, 1.0], [63100800, 0], [31564800, 2.0], [28800, 1.0], [1009872000, 10.0], [915177600, 6.0], [946713600, 9.0], [978336000, 13.0], [1136102400, 9.0], [1167638400, 3.0], [1072944000, 4.0], [883641600, 7.0], [1199174400, 5.0], [1230796800, 6.0]], 
        "key": "domestic"
    }, 
    {
        "values": [[1041408000, 3.0], [852105600, 4.0], [568022400, 0], [599644800, 0], [504950400, 0], [536486400, 0], [441792000, 0], [473414400, 1.0], [-63129600, 1.0], [-31507200, 0], [315561600, 0], [347184000, 0], [-189360000, 0], [-157737600, 0], [-126201600, 0], [-94665600, 0], [-315590400, 0], [-283968000, 1.0], [-252432000, 2.0], [-220896000, 1.0], [820483200, 2.0], [1388563200, 0], [1483257600, 1.0], [1451635200, 1.0], [1293868800, 0], [1262332800, 1.0], [1357027200, 3.0], [1325404800, 1.0], [1420099200, 0], [1104566400, 2.0], [-473356800, 1.0], [-504892800, 0], [-410198400, 2.0], [-441820800, 0], [-599587200, 1.0], [-631123200, 1.0], [-536428800, 1.0], [-568051200, 0], [378720000, 0], [-347126400, 1.0], [-378662400, 2.0], [410256000, 0], [662716800, 0], [631180800, 0], [725875200, 1.0], [694252800, 0], [788947200, 5.0], [757411200, 2.0], [284025600, 1.0], [252489600, 0], [220953600, 0], [189331200, 0], [157795200, 0], [126259200, 1.0], [94723200, 0], [63100800, 0], [31564800, 0], [28800, 0], [1009872000, 1.0], [915177600, 2.0], [946713600, 1.0], [978336000, 4.0], [1136102400, 3.0], [1167638400, 2.0], [1072944000, 1.0], [883641600, 4.0], [1199174400, 2.0], [1230796800, 1.0]], 
        "key": "legal"
    }, 
    {
        "values": [[1041408000, 5.0], [852105600, 7.0], [568022400, 6.0], [599644800, 7.0], [504950400, 4.0], [536486400, 6.0], [441792000, 3.0], [473414400, 4.0], [-63129600, 0], [-31507200, 3.0], [315561600, 2.0], [347184000, 5.0], [-189360000, 0], [-157737600, 3.0], [-126201600, 0], [-94665600, 1.0], [-315590400, 4.0], [-283968000, 4.0], [-252432000, 1.0], [-220896000, 2.0], [820483200, 11.0], [1388563200, 5.0], [1483257600, 0], [1451635200, 2.0], [1293868800, 6.0], [1262332800, 4.0], [1357027200, 3.0], [1325404800, 5.0], [1420099200, 3.0], [1104566400, 7.0], [-473356800, 1.0], [-504892800, 2.0], [-410198400, 5.0], [-441820800, 4.0], [-599587200, 1.0], [-631123200, 1.0], [-536428800, 6.0], [-568051200, 4.0], [378720000, 6.0], [-347126400, 4.0], [-378662400, 4.0], [410256000, 3.0], [662716800, 10.0], [631180800, 8.0], [725875200, 7.0], [694252800, 5.0], [788947200, 9.0], [757411200, 4.0], [284025600, 1.0], [252489600, 3.0], [220953600, 3.0], [189331200, 2.0], [157795200, 0], [126259200, 3.0], [94723200, 1.0], [63100800, 1.0], [31564800, 1.0], [28800, 3.0], [1009872000, 6.0], [915177600, 6.0], [946713600, 7.0], [978336000, 7.0], [1136102400, 8.0], [1167638400, 9.0], [1072944000, 4.0], [883641600, 8.0], [1199174400, 5.0], [1230796800, 3.0]], 
        "key": "romance"
    }, 
    {
        "values": [[1041408000, 4.0], [852105600, 2.0], [568022400, 3.0], [599644800, 3.0], [504950400, 2.0], [536486400, 0], [441792000, 1.0], [473414400, 1.0], [-63129600, 0], [-31507200, 1.0], [315561600, 1.0], [347184000, 1.0], [-189360000, 0], [-157737600, 0], [-126201600, 0], [-94665600, 0], [-315590400, 1.0], [-283968000, 0], [-252432000, 0], [-220896000, 0], [820483200, 0], [1388563200, 10.0], [1483257600, 1.0], [1451635200, 5.0], [1293868800, 22.0], [1262332800, 12.0], [1357027200, 7.0], [1325404800, 12.0], [1420099200, 6.0], [1104566400, 10.0], [-473356800, 0], [-504892800, 0], [-410198400, 0], [-441820800, 0], [-599587200, 0], [-631123200, 1.0], [-536428800, 0], [-568051200, 0], [378720000, 3.0], [-347126400, 1.0], [-378662400, 0], [410256000, 1.0], [662716800, 4.0], [631180800, 4.0], [725875200, 0], [694252800, 1.0], [788947200, 3.0], [757411200, 2.0], [284025600, 1.0], [252489600, 0], [220953600, 0], [189331200, 0], [157795200, 1.0], [126259200, 1.0], [94723200, 0], [63100800, 0], [31564800, 0], [28800, 0], [1009872000, 4.0], [915177600, 5.0], [946713600, 4.0], [978336000, 6.0], [1136102400, 13.0], [1167638400, 14.0], [1072944000, 4.0], [883641600, 4.0], [1199174400, 13.0], [1230796800, 16.0]], 
        "key": "suspense"
    }, 
    {
        "values": [[1041408000, 1.0], [852105600, 6.0], [568022400, 2.0], [599644800, 5.0], [504950400, 5.0], [536486400, 4.0], [441792000, 4.0], [473414400, 2.0], [-63129600, 2.0], [-31507200, 1.0], [315561600, 3.0], [347184000, 2.0], [-189360000, 1.0], [-157737600, 1.0], [-126201600, 0], [-94665600, 2.0], [-315590400, 1.0], [-283968000, 2.0], [-252432000, 4.0], [-220896000, 1.0], [820483200, 7.0], [1388563200, 2.0], [1483257600, 0], [1451635200, 0], [1293868800, 1.0], [1262332800, 3.0], [1357027200, 0], [1325404800, 2.0], [1420099200, 0], [1104566400, 1.0], [-473356800, 0], [-504892800, 1.0], [-410198400, 4.0], [-441820800, 4.0], [-599587200, 3.0], [-631123200, 2.0], [-536428800, 3.0], [-568051200, 4.0], [378720000, 3.0], [-347126400, 2.0], [-378662400, 2.0], [410256000, 2.0], [662716800, 5.0], [631180800, 5.0], [725875200, 6.0], [694252800, 5.0], [788947200, 5.0], [757411200, 7.0], [284025600, 3.0], [252489600, 2.0], [220953600, 3.0], [189331200, 2.0], [157795200, 3.0], [126259200, 2.0], [94723200, 1.0], [63100800, 3.0], [31564800, 3.0], [28800, 1.0], [1009872000, 1.0], [915177600, 5.0], [946713600, 2.0], [978336000, 2.0], [1136102400, 2.0], [1167638400, 0], [1072944000, 1.0], [883641600, 5.0], [1199174400, 1.0], [1230796800, 3.0]], 
        "key": "adventure"
    }, 
    {
        "values": [[1041408000, 2.0], [852105600, 4.0], [568022400, 4.0], [599644800, 3.0], [504950400, 1.0], [536486400, 1.0], [441792000, 1.0], [473414400, 2.0], [-63129600, 0], [-31507200, 1.0], [315561600, 0], [347184000, 0], [-189360000, 0], [-157737600, 1.0], [-126201600, 1.0], [-94665600, 0], [-315590400, 1.0], [-283968000, 0], [-252432000, 0], [-220896000, 0], [820483200, 3.0], [1388563200, 6.0], [1483257600, 0], [1451635200, 1.0], [1293868800, 4.0], [1262332800, 2.0], [1357027200, 1.0], [1325404800, 4.0], [1420099200, 6.0], [1104566400, 2.0], [-473356800, 2.0], [-504892800, 5.0], [-410198400, 1.0], [-441820800, 0], [-599587200, 3.0], [-631123200, 1.0], [-536428800, 3.0], [-568051200, 3.0], [378720000, 1.0], [-347126400, 1.0], [-378662400, 3.0], [410256000, 0], [662716800, 5.0], [631180800, 0], [725875200, 0], [694252800, 2.0], [788947200, 0], [757411200, 0], [284025600, 1.0], [252489600, 3.0], [220953600, 2.0], [189331200, 0], [157795200, 0], [126259200, 2.0], [94723200, 1.0], [63100800, 0], [31564800, 2.0], [28800, 2.0], [1009872000, 0], [915177600, 3.0], [946713600, 3.0], [978336000, 2.0], [1136102400, 1.0], [1167638400, 1.0], [1072944000, 2.0], [883641600, 3.0], [1199174400, 4.0], [1230796800, 5.0]], 
        "key": "historical"
    }, 

    {
        "values": [[1041408000, 1.0], [852105600, 2.0], [568022400, 0], [599644800, 1.0], [504950400, 0], [536486400, 0], [441792000, 1.0], [473414400, 0], [-63129600, 1.0], [-31507200, 1.0], [315561600, 0], [347184000, 0], [-189360000, 1.0], [-157737600, 0], [-126201600, 0], [-94665600, 1.0], [-315590400, 4.0], [-283968000, 1.0], [-252432000, 0], [-220896000, 1.0], [820483200, 0], [1388563200, 0], [1483257600, 0], [1451635200, 0], [1293868800, 0], [1262332800, 0], [1357027200, 2.0], [1325404800, 1.0], [1420099200, 2.0], [1104566400, 3.0], [-473356800, 0], [-504892800, 0], [-410198400, 0], [-441820800, 0], [-599587200, 0], [-631123200, 1.0], [-536428800, 0], [-568051200, 0], [378720000, 0], [-347126400, 2.0], [-378662400, 0], [410256000, 1.0], [662716800, 0], [631180800, 1.0], [725875200, 0], [694252800, 1.0], [788947200, 0], [757411200, 0], [284025600, 0], [252489600, 0], [220953600, 0], [189331200, 0], [157795200, 0], [126259200, 0], [94723200, 1.0], [63100800, 2.0], [31564800, 0], [28800, 1.0], [1009872000, 1.0], [915177600, 0], [946713600, 0], [978336000, 1.0], [1136102400, 1.0], [1167638400, 0], [1072944000, 0], [883641600, 0], [1199174400, 2.0], [1230796800, 0]], 
        "key": "religious"
    }, 
    {
        "values": [[1041408000, 0], [852105600, 1.0], [568022400, 1.0], [599644800, 2.0], [504950400, 3.0], [536486400, 3.0], [441792000, 2.0], [473414400, 2.0], [-63129600, 1.0], [-31507200, 1.0], [315561600, 2.0], [347184000, 1.0], [-189360000, 0], [-157737600, 0], [-126201600, 0], [-94665600, 0], [-315590400, 0], [-283968000, 1.0], [-252432000, 3.0], [-220896000, 1.0], [820483200, 1.0], [1388563200, 0], [1483257600, 0], [1451635200, 0], [1293868800, 2.0], [1262332800, 0], [1357027200, 1.0], [1325404800, 0], [1420099200, 0], [1104566400, 0], [-473356800, 0], [-504892800, 3.0], [-410198400, 3.0], [-441820800, 0], [-599587200, 1.0], [-631123200, 1.0], [-536428800, 1.0], [-568051200, 0], [378720000, 0], [-347126400, 0], [-378662400, 1.0], [410256000, 1.0], [662716800, 1.0], [631180800, 2.0], [725875200, 1.0], [694252800, 1.0], [788947200, 2.0], [757411200, 2.0], [284025600, 3.0], [252489600, 3.0], [220953600, 0], [189331200, 1.0], [157795200, 3.0], [126259200, 0], [94723200, 0], [63100800, 0], [31564800, 0], [28800, 0], [1009872000, 1.0], [915177600, 0], [946713600, 3.0], [978336000, 1.0], [1136102400, 2.0], [1167638400, 0], [1072944000, 0], [883641600, 2.0], [1199174400, 1.0], [1230796800, 0]], 
        "key": "war"
    }, 
    {
        "values": [[1041408000, 96.0], [852105600, 56.0], [568022400, 34.0], [599644800, 32.0], [504950400, 31.0], [536486400, 34.0], [441792000, 32.0], [473414400, 39.0], [-63129600, 21.0], [-31507200, 23.0], [315561600, 32.0], [347184000, 37.0], [-189360000, 25.0], [-157737600, 21.0], [-126201600, 26.0], [-94665600, 26.0], [-315590400, 51.0], [-283968000, 54.0], [-252432000, 48.0], [-220896000, 22.0], [820483200, 40.0], [1388563200, 145.0], [1483257600, 31.0], [1451635200, 147.0], [1293868800, 108.0], [1262332800, 142.0], [1357027200, 162.0], [1325404800, 141.0], [1420099200, 150.0], [1104566400, 86.0], [-473356800, 63.0], [-504892800, 52.0], [-410198400, 53.0], [-441820800, 59.0], [-599587200, 72.0], [-631123200, 58.0], [-536428800, 48.0], [-568051200, 60.0], [378720000, 32.0], [-347126400, 53.0], [-378662400, 53.0], [410256000, 27.0], [662716800, 29.0], [631180800, 37.0], [725875200, 43.0], [694252800, 39.0], [788947200, 47.0], [757411200, 47.0], [284025600, 29.0], [252489600, 20.0], [220953600, 31.0], [189331200, 26.0], [157795200, 17.0], [126259200, 21.0], [94723200, 26.0], [63100800, 25.0], [31564800, 30.0], [28800, 23.0], [1009872000, 90.0], [915177600, 49.0], [946713600, 57.0], [978336000, 68.0], [1136102400, 101.0], [1167638400, 111.0], [1072944000, 103.0], [883641600, 45.0], [1199174400, 114.0], [1230796800, 131.0]], 
        "key": "no genre"
    }, 
    {
        "values": [[1041408000, 5.0], [852105600, 3.0], [568022400, 2.0], [599644800, 3.0], [504950400, 3.0], [536486400, 5.0], [441792000, 8.0], [473414400, 5.0], [-63129600, 3.0], [-31507200, 4.0], [315561600, 5.0], [347184000, 2.0], [-189360000, 5.0], [-157737600, 3.0], [-126201600, 1.0], [-94665600, 1.0], [-315590400, 6.0], [-283968000, 5.0], [-252432000, 5.0], [-220896000, 2.0], [820483200, 6.0], [1388563200, 3.0], [1483257600, 11.0], [1451635200, 2.0], [1293868800, 9.0], [1262332800, 7.0], [1357027200, 5.0], [1325404800, 6.0], [1420099200, 0], [1104566400, 6.0], [-473356800, 9.0], [-504892800, 6.0], [-410198400, 11.0], [-441820800, 10.0], [-599587200, 10.0], [-631123200, 14.0], [-536428800, 9.0], [-568051200, 9.0], [378720000, 3.0], [-347126400, 8.0], [-378662400, 6.0], [410256000, 4.0], [662716800, 5.0], [631180800, 9.0], [725875200, 7.0], [694252800, 7.0], [788947200, 4.0], [757411200, 3.0], [284025600, 5.0], [252489600, 2.0], [220953600, 0], [189331200, 3.0], [157795200, 3.0], [126259200, 2.0], [94723200, 3.0], [63100800, 1.0], [31564800, 2.0], [28800, 0], [1009872000, 8.0], [915177600, 3.0], [946713600, 2.0], [978336000, 5.0], [1136102400, 8.0], [1167638400, 13.0], [1072944000, 7.0], [883641600, 5.0], [1199174400, 5.0], [1230796800, 5.0]], 
        "key": "needs label"
    }
];

/*
// for testing single data point
var histcatexplong = [
  {
    "key" : "Consumer Discretionary" ,
    "values" : [ [ 1138683600000 , 27.38478809681]]
  } ,
  {
    "key" : "Consumer Staples" ,
    "values" : [ [ 1138683600000 , 7.2800122043237]]
  } ,
  {
    "key" : "Energy" ,
    "values" : [ [ 1138683600000 , 1.544303464167]]
  } , 
  { 
    "key" : "Financials" , 
    "values" : [ [ 1138683600000 , 13.356778764352]]
  } , 
  { 
    "key" : "Health Care" , 
    "values" : [ [ 1138683600000 , 14.212410956029]]
  } , 
  { 
    "key" : "Industrials" , 
    "values" : [ [ 1138683600000 , 7.1590087090398]]
  } , 
  { 
    "key" : "Information Technology" , 
    "values" : [ [ 1138683600000 , 13.242301508051]]
  } , 
  { 
    "key" : "Materials" , 
    "values" : [ [ 1138683600000 , 5.5806167415681]]
  } , 
  { 
    "key" : "Telecommunication Services" , 
    "values" : [ [ 1138683600000 , 3.7056975170243]]
  } , 
  { 
    "key" : "Utilities" , 
    "values" : [ [ 1138683600000 , 0]]
  } 
];
*/



var histcatexpshort = [ 
  { 
    "key" : "Consumer Staples" , 
    "values" : [ [ 1138683600000 , 0] , [ 1141102800000 , 0] , [ 1143781200000 , 0] , [ 1146369600000 , 0] , [ 1149048000000 , 0] , [ 1151640000000 , 0] , [ 1154318400000 , 0] , [ 1156996800000 , 0] , [ 1159588800000 , 0] , [ 1162270800000 , 0] , [ 1164862800000 , 0] , [ 1167541200000 , -0.24102139376003] , [ 1170219600000 , -0.69960584365035] , [ 1172638800000 , -0.67365051426185] , [ 1175313600000 , 0] , [ 1177905600000 , 0] , [ 1180584000000 , 0] , [ 1183176000000 , -0.31429312464988] , [ 1185854400000 , -0.90018700397153] , [ 1188532800000 , -0.96926214328714] , [ 1191124800000 , -1.1343386468131] , [ 1193803200000 , -1.1335426595455] , [ 1196398800000 , -1.2327663032424] , [ 1199077200000 , -0.41027135492155] , [ 1201755600000 , -0.41779167524802] , [ 1204261200000 , -0.38133883625885] , [ 1206936000000 , 0] , [ 1209528000000 , -0.32550520320253] , [ 1212206400000 , -0.33185144615505] , [ 1214798400000 , -0.68609668877894] , [ 1217476800000 , -0.70001207744308] , [ 1220155200000 , -0.68378680840919] , [ 1222747200000 , -0.40908783182034] , [ 1225425600000 , -0.39074266525646] , [ 1228021200000 , -0.40358490474562] , [ 1230699600000 , -0.85752207262267] , [ 1233378000000 , -0.74395750438805] , [ 1235797200000 , -0.70718832429489] , [ 1238472000000 , -0.76244465406965] , [ 1241064000000 , -0.67618572591984] , [ 1243742400000 , -0.67649596761402] , [ 1246334400000 , -0.94618002703247] , [ 1249012800000 , -0.95408485581014] , [ 1251691200000 , -0.96272139504276] , [ 1254283200000 , 0] , [ 1256961600000 , 0] , [ 1259557200000 , 0] , [ 1262235600000 , 0] , [ 1264914000000 , 0] , [ 1267333200000 , 0] , [ 1270008000000 , -0.25516420149471] , [ 1272600000000 , -0.24106264576017] , [ 1275278400000 , -0.22802547751448] , [ 1277870400000 , -0.62187524046697] , [ 1280548800000 , -0.72155608677106] , [ 1283227200000 , -0.70221659944774] , [ 1285819200000 , -1.1117002584543] , [ 1288497600000 , -1.190911001336] , [ 1291093200000 , -1.1781082003972] , [ 1293771600000 , -1.2125860264875] , [ 1296450000000 , -1.7748010365657] , [ 1298869200000 , -1.8919594178596] , [ 1301544000000 , -1.7077946421533] , [ 1304136000000 , -2.024238803094] , [ 1306814400000 , -1.9769844081819] , [ 1309406400000 , -2.0730275464065] , [ 1312084800000 , -1.9690128240888] , [ 1314763200000 , -5.5557852269348] , [ 1317355200000 , -7.2527933190641] , [ 1320033600000 , -5.7367677053109] , [ 1322629200000 , -6.0409316206662] , [ 1325307600000 , -4.6511525539195] , [ 1327986000000 , -4.526116059083] , [ 1330491600000 , -4.846292325197] , [ 1333166400000 , -2.2663198779425] , [ 1335758400000 , -2.4172072568564] , [ 1338436800000 , -2.3204729601189]]
  } , 
  { 
    "key" : "Consumer Discretionary" , 
    "values" : [ [ 1138683600000 , -0.62238434102863] , [ 1141102800000 , -0.61484565039024] , [ 1143781200000 , -1.0769367918668] , [ 1146369600000 , -1.2221156604129] , [ 1149048000000 , -1.2434858263377] , [ 1151640000000 , -0.58606435489597] , [ 1154318400000 , -0.61478911495141] , [ 1156996800000 , -0.61429362688591] , [ 1159588800000 , -1.1168614112788] , [ 1162270800000 , -1.1510268716612] , [ 1164862800000 , -1.1104724164222] , [ 1167541200000 , -1.2298338563471] , [ 1170219600000 , -1.5053664389104] , [ 1172638800000 , -1.5535266372193] , [ 1175313600000 , -3.1690472535854] , [ 1177905600000 , -3.1273013967041] , [ 1180584000000 , -3.155466271777] , [ 1183176000000 , -3.7158562579437] , [ 1185854400000 , -3.8244546635586] , [ 1188532800000 , -3.5524464859972] , [ 1191124800000 , -3.0472339109128] , [ 1193803200000 , -3.064978140815] , [ 1196398800000 , -3.0818130124986] , [ 1199077200000 , -2.9806791138312] , [ 1201755600000 , -3.7360958775824] , [ 1204261200000 , -3.4687841733263] , [ 1206936000000 , -3.3702018615806] , [ 1209528000000 , -3.1982756208679] , [ 1212206400000 , -3.0489433155104] , [ 1214798400000 , -3.7008275605963] , [ 1217476800000 , -3.8980507260892] , [ 1220155200000 , -3.7680083260241] , [ 1222747200000 , -3.2061890012391] , [ 1225425600000 , -2.6727551440484] , [ 1228021200000 , -2.4469327462935] , [ 1230699600000 , -3.0192419668784] , [ 1233378000000 , -2.892958553476] , [ 1235797200000 , -3.1153570053479] , [ 1238472000000 , -2.9927580570711] , [ 1241064000000 , -3.5061796706294] , [ 1243742400000 , -3.2944159516725] , [ 1246334400000 , -3.4154213240617] , [ 1249012800000 , -3.6492125438171] , [ 1251691200000 , -3.6674164998394] , [ 1254283200000 , -4.6271484977727] , [ 1256961600000 , -4.2433407292676] , [ 1259557200000 , -4.4742625247274] , [ 1262235600000 , -5.2078214612359] , [ 1264914000000 , -5.2209579214469] , [ 1267333200000 , -5.4596395756061] , [ 1270008000000 , -5.6906459276584] , [ 1272600000000 , -6.4981737808665] , [ 1275278400000 , -6.2563044048578] , [ 1277870400000 , -6.175479487959] , [ 1280548800000 , -6.6641002427295] , [ 1283227200000 , -6.3648667745556] , [ 1285819200000 , -5.0270168607884] , [ 1288497600000 , -5.1186072976233] , [ 1291093200000 , -5.1127601587872] , [ 1293771600000 , -5.3015262972641] , [ 1296450000000 , -4.4295728671596] , [ 1298869200000 , -4.5488139745696] , [ 1301544000000 , -2.9021260315957] , [ 1304136000000 , -3.1482096241139] , [ 1306814400000 , -2.8648831814763] , [ 1309406400000 , -2.8149423433441] , [ 1312084800000 , -2.6350669145713] , [ 1314763200000 , -5.9871754759038] , [ 1317355200000 , -8.6127555816399] , [ 1320033600000 , -7.0712887348892] , [ 1322629200000 , -7.3930257999857] , [ 1325307600000 , -6.5183071556304] , [ 1327986000000 , -7.4388913793503] , [ 1330491600000 , -8.2134465182649] , [ 1333166400000 , -7.7836036697105] , [ 1335758400000 , -8.0955053683936] , [ 1338436800000 , -8.0981845818893]]
  } , 
  { 
    "key" : "Energy" , 
    "values" : [ [ 1138683600000 , -0.95707527558303] , [ 1141102800000 , -0.78324346694487] , [ 1143781200000 , -1.2905241058019] , [ 1146369600000 , -1.3880880486779] , [ 1149048000000 , -1.3337247185993] , [ 1151640000000 , -1.0342112071924] , [ 1154318400000 , -1.1264764100183] , [ 1156996800000 , -1.0001002640852] , [ 1159588800000 , -0.85341153093953] , [ 1162270800000 , -0.88452017844596] , [ 1164862800000 , -0.84305725300642] , [ 1167541200000 , -1.0874455682301] , [ 1170219600000 , -1.1714969043168] , [ 1172638800000 , -1.1445856467934] , [ 1175313600000 , -1.1928513334073] , [ 1177905600000 , -1.2365691634265] , [ 1180584000000 , -1.2690940962478] , [ 1183176000000 , -1.662233774695] , [ 1185854400000 , -1.745760538781] , [ 1188532800000 , -1.5209200931271] , [ 1191124800000 , -1.7874791820886] , [ 1193803200000 , -1.7755668105117] , [ 1196398800000 , -1.5456069064618] , [ 1199077200000 , -1.7077541586335] , [ 1201755600000 , -1.6462081650757] , [ 1204261200000 , -1.8624735339628] , [ 1206936000000 , -0.71073453533048] , [ 1209528000000 , -0.75380709640219] , [ 1212206400000 , -0.71020554911716] , [ 1214798400000 , -1.2077850914504] , [ 1217476800000 , -1.0505576787644] , [ 1220155200000 , -0.97804595164878] , [ 1222747200000 , -0.34591294663671] , [ 1225425600000 , -0.19958331514025] , [ 1228021200000 , -0.17599782216296] , [ 1230699600000 , -0.49577714121027] , [ 1233378000000 , -0.51644059173978] , [ 1235797200000 , -0.48576859637083] , [ 1238472000000 , -0.75596531126452] , [ 1241064000000 , -0.72073358315801] , [ 1243742400000 , -0.82125996732294] , [ 1246334400000 , -1.4933216860121] , [ 1249012800000 , -1.5003760525933] , [ 1251691200000 , -1.4744921420596] , [ 1254283200000 , -1.8197844060652] , [ 1256961600000 , -1.6558574419626] , [ 1259557200000 , -1.7256149254159] , [ 1262235600000 , -2.7667194124217] , [ 1264914000000 , -2.9113351806903] , [ 1267333200000 , -3.0172806042796] , [ 1270008000000 , -2.8607175559701] , [ 1272600000000 , -2.629226972169] , [ 1275278400000 , -2.1855196883832] , [ 1277870400000 , 0] , [ 1280548800000 , 0] , [ 1283227200000 , 0] , [ 1285819200000 , -1.3788733828844] , [ 1288497600000 , -1.4136792139765] , [ 1291093200000 , -1.5176522942901] , [ 1293771600000 , -1.5776651933208] , [ 1296450000000 , -1.7171675182182] , [ 1298869200000 , -1.8121885250566] , [ 1301544000000 , -1.2221934283206] , [ 1304136000000 , -1.2910715239439] , [ 1306814400000 , -1.1492301612576] , [ 1309406400000 , -1.0613891302841] , [ 1312084800000 , -0.99605193205308] , [ 1314763200000 , -1.7324212072278] , [ 1317355200000 , -1.5226856867477] , [ 1320033600000 , -1.3159138896549] , [ 1322629200000 , -1.3925952659299] , [ 1325307600000 , -1.59624913621] , [ 1327986000000 , -1.5235879880296] , [ 1330491600000 , -1.7315573519279] , [ 1333166400000 , -0.86883431220926] , [ 1335758400000 , -0.90144871282829] , [ 1338436800000 , -0.7010492182517]]
  } , 
  { 
    "key" : "Financials" , 
    "values" : [ [ 1138683600000 , -0.56797103580254] , [ 1141102800000 , -0.57324319174933] , [ 1143781200000 , -1.1014818753272] , [ 1146369600000 , -1.1480256918118] , [ 1149048000000 , -1.0709335336775] , [ 1151640000000 , -0.84876993929658] , [ 1154318400000 , -0.88122638919979] , [ 1156996800000 , -0.86421146074279] , [ 1159588800000 , -0.95093689377974] , [ 1162270800000 , -0.96646862382248] , [ 1164862800000 , -0.96726919442167] , [ 1167541200000 , -0.99874655234936] , [ 1170219600000 , -1.0004843898938] , [ 1172638800000 , -0.9925349676815] , [ 1175313600000 , -1.1888941931287] , [ 1177905600000 , -1.9402228220929] , [ 1180584000000 , -2.03915987194] , [ 1183176000000 , -2.4620526931074] , [ 1185854400000 , -2.2423544651877] , [ 1188532800000 , -1.8790998536037] , [ 1191124800000 , -0.43246873489492] , [ 1193803200000 , -0.40142684216371] , [ 1196398800000 , -0.35646635110466] , [ 1199077200000 , -0.90385702817642] , [ 1201755600000 , -0.86997575249605] , [ 1204261200000 , -0.80101406775415] , [ 1206936000000 , 0] , [ 1209528000000 , 0] , [ 1212206400000 , 0] , [ 1214798400000 , -0.31816167663298] , [ 1217476800000 , -0.309250081849] , [ 1220155200000 , -0.27723698582762] , [ 1222747200000 , -0.32001379372079] , [ 1225425600000 , -0.1940212908561] , [ 1228021200000 , -0.051964569203423] , [ 1230699600000 , -0.68342686502452] , [ 1233378000000 , -0.57645644730726] , [ 1235797200000 , -0.50860972184555] , [ 1238472000000 , -0.44405217759605] , [ 1241064000000 , -0.45224333626901] , [ 1243742400000 , -0.41691818252313] , [ 1246334400000 , -2.4654561579904] , [ 1249012800000 , -2.5473566378551] , [ 1251691200000 , -2.8340604021307] , [ 1254283200000 , -1.8452445924041] , [ 1256961600000 , -1.5626544265386] , [ 1259557200000 , -1.707842764916] , [ 1262235600000 , -1.2237258567344] , [ 1264914000000 , -1.9756896168227] , [ 1267333200000 , -2.0920321696833] , [ 1270008000000 , -1.9782327706952] , [ 1272600000000 , -2.0416328165753] , [ 1275278400000 , -1.7816736134798] , [ 1277870400000 , -0.66092275437689] , [ 1280548800000 , -0.73608099025756] , [ 1283227200000 , -0.63686713461189] , [ 1285819200000 , -0.0024159482973197] , [ 1288497600000 , -0.0023052643588188] , [ 1291093200000 , -0.0023008251965446] , [ 1293771600000 , -0.002247807834351] , [ 1296450000000 , -0.62004345920743] , [ 1298869200000 , -0.69634926653235] , [ 1301544000000 , -0.76013525555354] , [ 1304136000000 , -1.505368495849] , [ 1306814400000 , -1.3456949237707] , [ 1309406400000 , -1.3013934898695] , [ 1312084800000 , -1.183199519395] , [ 1314763200000 , -0.0074317809719494] , [ 1317355200000 , -0.019430458325379] , [ 1320033600000 , -0.015777413509084] , [ 1322629200000 , -0.016463879837718] , [ 1325307600000 , -0.0031338919976225] , [ 1327986000000 , -0.0029770278967514] , [ 1330491600000 , -0.003048902987439] , [ 1333166400000 , -0.71171545945298] , [ 1335758400000 , -0.72003299240508] , [ 1338436800000 , -0.72961974845039]]
  } , 
  { 
    "key" : "Health Care" , 
    "values" : [ [ 1138683600000 , 0] , [ 1141102800000 , 0] , [ 1143781200000 , 0] , [ 1146369600000 , 0] , [ 1149048000000 , 0] , [ 1151640000000 , 0] , [ 1154318400000 , 0] , [ 1156996800000 , 0] , [ 1159588800000 , 0] , [ 1162270800000 , 0] , [ 1164862800000 , 0] , [ 1167541200000 , 0] , [ 1170219600000 , 0] , [ 1172638800000 , 0] , [ 1175313600000 , 0] , [ 1177905600000 , 0] , [ 1180584000000 , 0] , [ 1183176000000 , -0.16816074963595] , [ 1185854400000 , -0.19318598121302] , [ 1188532800000 , -0.20130864403797] , [ 1191124800000 , 0] , [ 1193803200000 , 0] , [ 1196398800000 , 0] , [ 1199077200000 , 0] , [ 1201755600000 , 0] , [ 1204261200000 , 0] , [ 1206936000000 , 0] , [ 1209528000000 , 0] , [ 1212206400000 , 0] , [ 1214798400000 , -0.30476443991021] , [ 1217476800000 , -0.31836730824777] , [ 1220155200000 , -0.30797427879366] , [ 1222747200000 , -0.48318623977865] , [ 1225425600000 , -0.50834562674351] , [ 1228021200000 , -0.47936068182503] , [ 1230699600000 , -0.61753010081956] , [ 1233378000000 , -0.59493587396819] , [ 1235797200000 , -0.62664324339064] , [ 1238472000000 , 0] , [ 1241064000000 , 0] , [ 1243742400000 , 0] , [ 1246334400000 , 0] , [ 1249012800000 , 0] , [ 1251691200000 , 0] , [ 1254283200000 , -1.3076157801726] , [ 1256961600000 , -1.2306204787628] , [ 1259557200000 , -1.4728435992801] , [ 1262235600000 , -1.7729831226837] , [ 1264914000000 , -1.7711733839842] , [ 1267333200000 , -1.8233584472099] , [ 1270008000000 , -1.8505979461969] , [ 1272600000000 , -1.5989071613823] , [ 1275278400000 , -1.6636770720413] , [ 1277870400000 , -1.4523909758725] , [ 1280548800000 , -1.503771584105] , [ 1283227200000 , -1.5458561450475] , [ 1285819200000 , -1.457331837483] , [ 1288497600000 , -1.4217332434071] , [ 1291093200000 , -1.4687927303394] , [ 1293771600000 , -1.437223057967] , [ 1296450000000 , -0.72221871524334] , [ 1298869200000 , -0.7399575414588] , [ 1301544000000 , -1.9712239746745] , [ 1304136000000 , -2.2360949351942] , [ 1306814400000 , -2.2147572530541] , [ 1309406400000 , -2.0440932285023] , [ 1312084800000 , -1.9438209561938] , [ 1314763200000 , -4.9035620630386] , [ 1317355200000 , -4.9036674804213] , [ 1320033600000 , -4.1900706458801] , [ 1322629200000 , -4.5602615827955] , [ 1325307600000 , -1.9194421885814] , [ 1327986000000 , -1.8854470816382] , [ 1330491600000 , -1.9514785018245] , [ 1333166400000 , -0.65282205870454] , [ 1335758400000 , -0.57068368199209] , [ 1338436800000 , -0.55902563384907]]
  } , 
  { 
    "key" : "Industrials" , 
    "values" : [ [ 1138683600000 , -0.390983707093] , [ 1141102800000 , -0.38471122730537] , [ 1143781200000 , -0.22897173467143] , [ 1146369600000 , -0.23798946472286] , [ 1149048000000 , -0.20721233428173] , [ 1151640000000 , -0.54577697700394] , [ 1154318400000 , -0.50300252995937] , [ 1156996800000 , -0.49609518628103] , [ 1159588800000 , -0.19582276889273] , [ 1162270800000 , -0.60399139945108] , [ 1164862800000 , -0.61477368082886] , [ 1167541200000 , -0.13665869881705] , [ 1170219600000 , -0.13147565243332] , [ 1172638800000 , -0.11819441593356] , [ 1175313600000 , -0.41610825689528] , [ 1177905600000 , -0.38815419659358] , [ 1180584000000 , -0.3703838943035] , [ 1183176000000 , -1.6193903804534] , [ 1185854400000 , -1.6502660417328] , [ 1188532800000 , -1.481875010149] , [ 1191124800000 , -0.96180099322536] , [ 1193803200000 , -0.97017301394967] , [ 1196398800000 , -0.97432971260093] , [ 1199077200000 , -0.36071934518387] , [ 1201755600000 , -0.42150070991777] , [ 1204261200000 , -0.41784042793202] , [ 1206936000000 , -0.70494708349169] , [ 1209528000000 , -0.73449590911984] , [ 1212206400000 , -0.7400163600788] , [ 1214798400000 , -0.52584502195668] , [ 1217476800000 , -0.56224806965368] , [ 1220155200000 , -0.50830855192741] , [ 1222747200000 , -0.79494637898049] , [ 1225425600000 , -0.70391433947286] , [ 1228021200000 , -0.61420660317009] , [ 1230699600000 , -0.41699636242004] , [ 1233378000000 , -0.3779041158185] , [ 1235797200000 , -0.34282498854047] , [ 1238472000000 , -0.83845630450592] , [ 1241064000000 , -0.85937944918912] , [ 1243742400000 , -0.85530287999615] , [ 1246334400000 , -1.2819866264007] , [ 1249012800000 , -1.4598491663715] , [ 1251691200000 , -1.5261472177779] , [ 1254283200000 , -1.2503948993549] , [ 1256961600000 , -1.1767079775724] , [ 1259557200000 , -1.2585538260386] , [ 1262235600000 , -3.420972598165] , [ 1264914000000 , -3.3381337072954] , [ 1267333200000 , -3.7043129330694] , [ 1270008000000 , -4.6924500756609] , [ 1272600000000 , -4.6880683704908] , [ 1275278400000 , -4.3335249071719] , [ 1277870400000 , -3.6545810416445] , [ 1280548800000 , -4.1639787701262] , [ 1283227200000 , -3.8249597612047] , [ 1285819200000 , -0.33221815335641] , [ 1288497600000 , -0.33346468179047] , [ 1291093200000 , -0.34546911228789] , [ 1293771600000 , -0.36609971997147] , [ 1296450000000 , -0.42502545672607] , [ 1298869200000 , -0.38192733348507] , [ 1301544000000 , -0.01991033447621] , [ 1304136000000 , -0.020319195299659] , [ 1306814400000 , -0.018147820835144] , [ 1309406400000 , -0.017923186209383] , [ 1312084800000 , -0.016133999253684] , [ 1314763200000 , -0.72058656278977] , [ 1317355200000 , -0.42812646564889] , [ 1320033600000 , -0.35896134792589] , [ 1322629200000 , -0.38637896444549] , [ 1325307600000 , -0.31794663984021] , [ 1327986000000 , -0.32220831831888] , [ 1330491600000 , -0.37107872672214] , [ 1333166400000 , -0.81968633933695] , [ 1335758400000 , -0.77148300885994] , [ 1338436800000 , -0.77392261735539]]
  } , 
  { 
    "key" : "Information Technology" , 
    "values" : [ [ 1138683600000 , -0.86346955704548] , [ 1141102800000 , -0.88352373534584] , [ 1143781200000 , -1.2630802711685] , [ 1146369600000 , -1.2352593999242] , [ 1149048000000 , -1.2086379045093] , [ 1151640000000 , -1.0416778473647] , [ 1154318400000 , -0.99326278105154] , [ 1156996800000 , -1.0095045907007] , [ 1159588800000 , -2.0762515478576] , [ 1162270800000 , -2.13066829429] , [ 1164862800000 , -2.2458400474235] , [ 1167541200000 , -2.1315262677135] , [ 1170219600000 , -2.4063108252146] , [ 1172638800000 , -2.3753290631454] , [ 1175313600000 , -2.1119577565913] , [ 1177905600000 , -2.1546804750397] , [ 1180584000000 , -2.3768374034303] , [ 1183176000000 , -1.244878330098] , [ 1185854400000 , -1.2233210265236] , [ 1188532800000 , -1.1715073644317] , [ 1191124800000 , -1.0036136395928] , [ 1193803200000 , -0.9510676777939] , [ 1196398800000 , -0.97553526602196] , [ 1199077200000 , -1.9083849411912] , [ 1201755600000 , -1.855965027796] , [ 1204261200000 , -1.7343633512402] , [ 1206936000000 , -2.1847032903649] , [ 1209528000000 , -2.2095446284368] , [ 1212206400000 , -2.2060678671735] , [ 1214798400000 , -1.0941627910924] , [ 1217476800000 , -1.0004352405294] , [ 1220155200000 , -0.93563501378075] , [ 1222747200000 , 0] , [ 1225425600000 , -0.65155092645953] , [ 1228021200000 , -0.66021585164047] , [ 1230699600000 , 0] , [ 1233378000000 , 0] , [ 1235797200000 , 0] , [ 1238472000000 , 0] , [ 1241064000000 , 0] , [ 1243742400000 , 0] , [ 1246334400000 , 0] , [ 1249012800000 , 0] , [ 1251691200000 , 0] , [ 1254283200000 , -0.29297573068109] , [ 1256961600000 , -0.75043756379084] , [ 1259557200000 , -0.85690846482745] , [ 1262235600000 , -0.21937480770873] , [ 1264914000000 , -0.93232569935343] , [ 1267333200000 , -0.94180327525084] , [ 1270008000000 , 0] , [ 1272600000000 , 0] , [ 1275278400000 , 0] , [ 1277870400000 , 0] , [ 1280548800000 , 0] , [ 1283227200000 , 0] , [ 1285819200000 , -0.21253553193891] , [ 1288497600000 , -0.23178244747722] , [ 1291093200000 , -0.21481706129968] , [ 1293771600000 , -0.23306463011242] , [ 1296450000000 , -0.90244048159158] , [ 1298869200000 , -1.0410052083529] , [ 1301544000000 , -2.209350937089] , [ 1304136000000 , -2.6540796712932] , [ 1306814400000 , -3.2481210590957] , [ 1309406400000 , -3.0717986354635] , [ 1312084800000 , -2.7493296528921] , [ 1314763200000 , -2.1973991293256] , [ 1317355200000 , -0.86403111842659] , [ 1320033600000 , -0.87824756160219] , [ 1322629200000 , -0.80812571482871] , [ 1325307600000 , -1.6419820357151] , [ 1327986000000 , -1.6893790342619] , [ 1330491600000 , -1.8614499455474] , [ 1333166400000 , -1.814727017516] , [ 1335758400000 , -1.8744942128618] , [ 1338436800000 , -1.7880124850882]]
  } , 
  { 
    "key" : "Materials" , 
    "values" : [ [ 1138683600000 , -0.26079769654951] , [ 1141102800000 , -0.23368425410881] , [ 1143781200000 , -0.46285283466193] , [ 1146369600000 , -0.4588429059205] , [ 1149048000000 , -0.43055120080853] , [ 1151640000000 , -0.26428963363642] , [ 1154318400000 , -0.26203611963364] , [ 1156996800000 , -0.26706156717825] , [ 1159588800000 , -0.024613610779192] , [ 1162270800000 , -0.024351047945929] , [ 1164862800000 , -0.031497065480344] , [ 1167541200000 , 0] , [ 1170219600000 , 0] , [ 1172638800000 , 0] , [ 1175313600000 , 0] , [ 1177905600000 , 0] , [ 1180584000000 , 0] , [ 1183176000000 , 0] , [ 1185854400000 , 0] , [ 1188532800000 , 0] , [ 1191124800000 , 0] , [ 1193803200000 , 0] , [ 1196398800000 , 0] , [ 1199077200000 , 0] , [ 1201755600000 , 0] , [ 1204261200000 , 0] , [ 1206936000000 , -0.83875613435932] , [ 1209528000000 , -0.84367445572656] , [ 1212206400000 , -0.78928126005463] , [ 1214798400000 , -1.1075954825404] , [ 1217476800000 , -1.2704836497926] , [ 1220155200000 , -1.307504052056] , [ 1222747200000 , -0.70440409992826] , [ 1225425600000 , -0.74122140007729] , [ 1228021200000 , -0.82224393045109] , [ 1230699600000 , -1.8719055314571] , [ 1233378000000 , -1.5200311233975] , [ 1235797200000 , -1.5552386899059] , [ 1238472000000 , -1.1576593040773] , [ 1241064000000 , -1.0757811060575] , [ 1243742400000 , -1.0250125722511] , [ 1246334400000 , -2.2747597224127] , [ 1249012800000 , -2.3125499227974] , [ 1251691200000 , -2.2784386530745] , [ 1254283200000 , -1.1518806233757] , [ 1256961600000 , -1.0075503399018] , [ 1259557200000 , -1.1400577929481] , [ 1262235600000 , -0.50677891891165] , [ 1264914000000 , -0.54332908490051] , [ 1267333200000 , -0.55473181189807] , [ 1270008000000 , -0.3633796157757] , [ 1272600000000 , -0.30361861470847] , [ 1275278400000 , -0.24614951229153] , [ 1277870400000 , -1.0959443687647] , [ 1280548800000 , -1.1881529264637] , [ 1283227200000 , -1.1835349242596] , [ 1285819200000 , -0.92507477884561] , [ 1288497600000 , -0.94531016133473] , [ 1291093200000 , -0.93519433603434] , [ 1293771600000 , -1.009221344252] , [ 1296450000000 , -2.3640716285835] , [ 1298869200000 , -2.4914494188556] , [ 1301544000000 , -1.7979456141716] , [ 1304136000000 , -2.1389760840247] , [ 1306814400000 , -1.9721362241269] , [ 1309406400000 , -1.9170229522382] , [ 1312084800000 , -1.8076246545605] , [ 1314763200000 , -2.1010686108381] , [ 1317355200000 , -2.2396373791195] , [ 1320033600000 , -1.8469012813015] , [ 1322629200000 , -2.0079125997321] , [ 1325307600000 , -1.9170007806182] , [ 1327986000000 , -1.9239118384243] , [ 1330491600000 , -2.0649464738798] , [ 1333166400000 , -0.88385747789351] , [ 1335758400000 , -0.91438087144161] , [ 1338436800000 , -0.96513752020965]]
  } , 
  { 
    "key" : "Telecommunication Services" , 
    "values" : [ [ 1138683600000 , 0] , [ 1141102800000 , 0] , [ 1143781200000 , -0.077395192503573] , [ 1146369600000 , -0.079342784160835] , [ 1149048000000 , -0.07376956808809] , [ 1151640000000 , -0.041850521681201] , [ 1154318400000 , -0.037598545052499] , [ 1156996800000 , -0.040984079427717] , [ 1159588800000 , -0.19335817797448] , [ 1162270800000 , -0.18578493919925] , [ 1164862800000 , -0.1769473933101] , [ 1167541200000 , -0.57245352054975] , [ 1170219600000 , -0.61554187332911] , [ 1172638800000 , -0.63016714701151] , [ 1175313600000 , 0] , [ 1177905600000 , 0] , [ 1180584000000 , 0] , [ 1183176000000 , -0.12118014109021] , [ 1185854400000 , -0.11085831487208] , [ 1188532800000 , -0.10901265358445] , [ 1191124800000 , -0.17205583275088] , [ 1193803200000 , -0.16573676303991] , [ 1196398800000 , -0.17954841680392] , [ 1199077200000 , -0.82703336198161] , [ 1201755600000 , -0.76741763304227] , [ 1204261200000 , -0.79430844816827] , [ 1206936000000 , -1.0279404050708] , [ 1209528000000 , -1.0342425093761] , [ 1212206400000 , -1.0903083860383] , [ 1214798400000 , -1.0895432841007] , [ 1217476800000 , -1.1392703218146] , [ 1220155200000 , -0.98872086340391] , [ 1222747200000 , -1.227654651568] , [ 1225425600000 , -1.0527419580394] , [ 1228021200000 , -0.84338280322309] , [ 1230699600000 , -0.5982617279246] , [ 1233378000000 , -0.74123723862634] , [ 1235797200000 , -0.81665712408277] , [ 1238472000000 , -0.89868760705228] , [ 1241064000000 , -0.86338472153689] , [ 1243742400000 , -0.85040889603889] , [ 1246334400000 , -0.82872733882926] , [ 1249012800000 , -1.2797824676355] , [ 1251691200000 , -1.152043882336] , [ 1254283200000 , -0.70125890680538] , [ 1256961600000 , -0.69496338525418] , [ 1259557200000 , -0.81982038022784] , [ 1262235600000 , -0.42841700219624] , [ 1264914000000 , -0.43298861575253] , [ 1267333200000 , -0.46951194437705] , [ 1270008000000 , -0.46723980191721] , [ 1272600000000 , -0.43139262322841] , [ 1275278400000 , -0.4052075794202] , [ 1277870400000 , -0.45399431179247] , [ 1280548800000 , -0.50492374473014] , [ 1283227200000 , -0.49032976375464] , [ 1285819200000 , -0.95769381063728] , [ 1288497600000 , -0.92968381683254] , [ 1291093200000 , -0.90984207437415] , [ 1293771600000 , -0.91448295661871] , [ 1296450000000 , -1.3204103334172] , [ 1298869200000 , -1.3896989018] , [ 1301544000000 , -1.8536993972883] , [ 1304136000000 , -1.9901582471947] , [ 1306814400000 , -1.8731097808809] , [ 1309406400000 , -1.8109819859122] , [ 1312084800000 , -1.7946593386661] , [ 1314763200000 , -1.6002716669781] , [ 1317355200000 , -0.056479286204019] , [ 1320033600000 , -0.046232413998891] , [ 1322629200000 , -0.051182355563531] , [ 1325307600000 , -0.032858749040145] , [ 1327986000000 , -0.032326418106178] , [ 1330491600000 , -0.033980477379241] , [ 1333166400000 , -0.053069550536519] , [ 1335758400000 , -0.055741850564434] , [ 1338436800000 , -0.055851808568252]]
  } , 
  { 
    "key" : "Utilities" , 
    "values" : [ [ 1138683600000 , 0] , [ 1141102800000 , 0] , [ 1143781200000 , -0.073769471773675] , [ 1146369600000 , -0.077824496315782] , [ 1149048000000 , -0.080696288096361] , [ 1151640000000 , 0] , [ 1154318400000 , 0] , [ 1156996800000 , 0] , [ 1159588800000 , 0] , [ 1162270800000 , 0] , [ 1164862800000 , 0] , [ 1167541200000 , 0] , [ 1170219600000 , 0] , [ 1172638800000 , 0] , [ 1175313600000 , 0] , [ 1177905600000 , 0] , [ 1180584000000 , 0] , [ 1183176000000 , -0.16073291656515] , [ 1185854400000 , -0.1646253606633] , [ 1188532800000 , -0.1655815581449] , [ 1191124800000 , -0.74417496631713] , [ 1193803200000 , -0.76230340423681] , [ 1196398800000 , -0.73882938190048] , [ 1199077200000 , -0.3820573391806] , [ 1201755600000 , -0.360757285179] , [ 1204261200000 , -0.38081058463615] , [ 1206936000000 , -0.92767439811083] , [ 1209528000000 , -0.92774728028789] , [ 1212206400000 , -0.85273481694714] , [ 1214798400000 , -1.69407085613] , [ 1217476800000 , -1.5179726219101] , [ 1220155200000 , -1.3576700600738] , [ 1222747200000 , -1.0404839864076] , [ 1225425600000 , -0.95251478838915] , [ 1228021200000 , -1.0610509118017] , [ 1230699600000 , -0.3316792294278] , [ 1233378000000 , -0.33745002288524] , [ 1235797200000 , -0.28806366796683] , [ 1238472000000 , 0] , [ 1241064000000 , 0] , [ 1243742400000 , 0] , [ 1246334400000 , -0.6338555382785] , [ 1249012800000 , -0.62797265130959] , [ 1251691200000 , -0.60264057253794] , [ 1254283200000 , -0.28687231077181] , [ 1256961600000 , -0.22215649778327] , [ 1259557200000 , -0.24027664555676] , [ 1262235600000 , 0] , [ 1264914000000 , 0] , [ 1267333200000 , 0] , [ 1270008000000 , 0] , [ 1272600000000 , 0] , [ 1275278400000 , 0] , [ 1277870400000 , 0] , [ 1280548800000 , 0] , [ 1283227200000 , 0] , [ 1285819200000 , 0] , [ 1288497600000 , 0] , [ 1291093200000 , 0] , [ 1293771600000 , 0] , [ 1296450000000 , 0] , [ 1298869200000 , 0] , [ 1301544000000 , 0] , [ 1304136000000 , 0] , [ 1306814400000 , 0] , [ 1309406400000 , 0] , [ 1312084800000 , 0] , [ 1314763200000 , 0] , [ 1317355200000 , 0] , [ 1320033600000 , 0] , [ 1322629200000 , 0] , [ 1325307600000 , 0] , [ 1327986000000 , 0] , [ 1330491600000 , 0] , [ 1333166400000 , 0] , [ 1335758400000 , 0] , [ 1338436800000 , 0]]
  } 
];

/*
.map(function(series) {
  series.values = series.values.map(function(d) {
    return { x: d[0], y: d[1] }
  });
  return series;
});
*/

//an example of harmonizing colors between visualizations
//observe that Consumer Discretionary and Consumer Staples have 
//been flipped in the second chart
var colors = d3.scale.category20();
keyColor = function(d, i) {return colors(d.key)};

function compare(a, b) {
    if (a[0] < b[0]) return -1;
    if (a[0] > b[0]) return 1;
    return 0;
}


function sort_the_data(j_data_arr){
    target = [];
    for (x in j_data_arr){
        sub_tar = {};
        console.log(j_data_arr[x])
        sub_tar["key"] = j_data_arr[x]["key"];
        sub_tar["values"] = j_data_arr[x]["values"].sort(compare);
        target.push(sub_tar);
    }
    return target;
}

sort_the_data(histcatexplong);

var chart;
nv.addGraph(function() {
  chart = nv.models.stackedAreaChart()
               // .width(600).height(500)
                .useInteractiveGuideline(true)
                .x(function(d) { return d[0]*1000 })
                .y(function(d) { return d[1] })
                .color(keyColor)
                .style('expand')
                .transitionDuration(300);
                //.clipEdge(true);

// chart.stacked.scatter.clipVoronoi(false);

  chart.xAxis
      .tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });

  chart.yAxis
      .tickFormat(d3.format(',.2f'));

  d3.select('#chart1')
    .datum(histcatexplong)
    .transition().duration(0)
    .call(chart);

  nv.utils.windowResize(chart.update);

  chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

  return chart;
});

nv.addGraph(function() {
  var chart = nv.models.stackedAreaChart()
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                .color(keyColor)
                ;
                //.clipEdge(true);

  chart.xAxis
      .tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });

  chart.yAxis
      .tickFormat(d3.format(',.2f'));

  d3.select('#chart2')
    .datum(histcatexpshort)
      .call(chart);

  nv.utils.windowResize(chart.update);

  return chart;
});



</script>
